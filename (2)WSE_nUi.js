(function(){var i_InNodeJs = ("undefined" == typeof self);var l_Glb = i_InNodeJs ? global : self;l_Glb.nWse.stAsynIcld.cPreLoad("nWse:nUi", ["(0)Plmvc.js","EfcMgr.js","Wgt.js","Frmwk.js","PcdrLot.js"]);})();(function(){var A=("undefined"==typeof self),B=A?global:self;if(B.nWse&&B.nWse.nUi){return}B.nWse.stAsynIcld.cFromLib("nWse:nUi",["nWse:DomUtil.js","nWse:CssUtil.js"],C);function C(D){console.log("(0)Plmvc.fOnIcld："+D);var E=B.nWse,F=E.stNumUtil,G=E.stStrUtil,H=E.stAryUtil,I=E.stDomUtil,J=E.stCssUtil,K=E.fNmspc(E,function nUi(){}),L=E.fNmspc(K,function unKnl(){});L.fObtnPutSrc=function(N){var O=N?document.getElementById(N):null;if(!O){return null}if(!O.Wse_PutSrc){O.Wse_PutSrc={}}O.Wse_PutSrc.c_OrigCssc=O.className;J.cAddCssc(O,"cnWse_PutSrc");return O};L.fAbdnPutSrc=function(N){if(!N.Wse_PutSrc){return}N.className=N.Wse_PutSrc.c_OrigCssc;N.Wse_PutSrc=null};L.fObtnPutTgt=function(N,O,P){var Q=null;if(N){Q=document.getElementById(N)}if((!Q)&&P){Q=I.cQryOne("#"+O.id+P);Q.id=N}if((!Q)){Q=document.createElement("div");Q.id=N;O.parentNode.insertBefore(Q,O)}if(!Q.Wse_PutTgt){Q.Wse_PutTgt={}}Q.Wse_PutTgt.c_OrigCssc=Q.className;J.cAddCssc(Q,"cnWse_PutTgt");return Q};L.fAbdnPutTgt=function(N){if(!N.Wse_PutTgt){return}N.className=N.Wse_PutTgt.c_OrigCssc;N.Wse_PutTgt=null};L.fIsPutInTgt=function(N,O){return(N===O.parentNode)};L.fPutToTgt=function(N,O,P,Q,R){if(N===P.parentNode){return}if(R&&(!I.cIsAcst(O,P))){throw new Error("“"+P.id+"”不是“"+O.id+"”的后代节点！")}if(!P.Wse_Put){P.Wse_Put={}}P.Wse_Put.c_OrigPrn=P.parentNode;Q?N.insertBefore(P,Q):N.appendChild(P)};function M(N,O){return(O.Wse_Put&&O.Wse_Put.c_OrigPrn)||N}L.fIsPutInSrc=function(N,O){var P=M(N,O);return(P===O.parentNode)};L.fRtnToSrc=function(N,O,P,Q,R){var S=M(O,P);if(S===P.parentNode){return}if(R&&(!I.cIsAcst(N,P))){throw new Error("“"+P.id+"”不是“"+N.id+"”的后代节点！")}Q?S.insertBefore(P,Q):S.appendChild(P)};L.fClnPutTgt=function(N,O){var P=N,Q=P.childNodes,n=0,R=Q.length;for(;n<R;++n){if(Q[n].Wse_Put&&Q[n].Wse_Put.c_OrigPrn){L.fRtnToSrc(N,O,Q[n],null,false);--n;--R}}};K.fRegPutEvtHdlr=function(N,O,P){if(!N.Wse_Put){N.Wse_Put={}}if(!N.Wse_Put.c_EvtSys){N.Wse_Put.c_EvtSys={}}if(!N.Wse_Put.c_EvtSys[O]){N.Wse_Put.c_EvtSys[O]=new E.tEvtHdlrAry()}if(N.Wse_Put.c_EvtSys[O].cFind(P)<0){N.Wse_Put.c_EvtSys[O].cReg(P)}};K.fUrgPutEvtHdlr=function(N,O,P){if((!N.Wse_Put)||(!N.Wse_Put.c_EvtSys)||(!N.Wse_Put.c_EvtSys[O])||(N.Wse_Put.c_EvtSys[O].cFind(P)<0)){return}N.Wse_Put.c_EvtSys[O].cUrg(P)};K.fHasPutEvtHdlr=function(N,O){if((!N.Wse_Put)||(!N.Wse_Put.c_EvtSys)||(!N.Wse_Put.c_EvtSys[O])){return false}return!N.Wse_Put.c_EvtSys[O].cIsEmt()};K.fTrgrPutEvt=function(N,O,P){if((!N.Wse_Put)||(!N.Wse_Put.c_EvtSys)||(!N.Wse_Put.c_EvtSys[O])){return}N.Wse_Put.c_EvtSys[O].cFor.apply(N.Wse_Put.c_EvtSys[O],P)}}})();(function(){var A=("undefined"==typeof self),B=A?global:self;if(B.nWse&&B.nWse.nUi&&B.nWse.nUi.stEfcMgr){return}B.nWse.stAsynIcld.cFromLib("nWse:nUi",["(0)Plmvc.js"],C);function C(D){console.log("EfcMgr.fOnIcld："+D);var E=B.nWse,F=E.stNumUtil,G=E.stAryUtil,H=E.stObjUtil,I=E.stDomUtil,J=E.stCssUtil,K=E.nUi,L;(function(){L=E.fClass(K,function tEfc(N,O){this.c_fStp=N;this.c_StpOnce=!!O},null,{cClrItems:function(){if(this.c_CssEntBgn){this.c_CssEntBgn=null}if(this.c_CssEntEnd){this.c_CssEntEnd=null}if(this.c_CssEntCln){this.c_CssEntCln=null}if(this.c_CssLeaEnd){this.c_CssLeaEnd=null}if(this.c_CssLeaCln){this.c_CssLeaCln=null}if(this.c_fOnEntBgn){this.c_fOnEntBgn=null}if(this.c_fOnEntEnd){this.c_fOnEntEnd=null}if(this.c_fOnRflBgn){this.c_fOnRflBgn=null}if(this.c_fOnRflEnd){this.c_fOnRflEnd=null}if(this.c_fOnLeaBgn){this.c_fOnLeaBgn=null}if(this.c_fOnLeaEnd){this.c_fOnLeaEnd=null}return this},cSetUniDur:function(N){N=N||1;this.c_EntDur=N;this.c_RflDur=N;this.c_LeaDur=N;return this},cSetUniEsn:function(N){N=N||null;this.c_fEntEsn=N;this.c_fRflEsn=N;this.c_fLeaEsn=N;return this},cSetUniMove:function(N){N=N||null;this.c_fEntMove=N;this.c_fRflMove=N;this.c_fLeaMove=N;return this},cAcsAry:function(N){if(!this[N]){this[N]=[]}return this[N]},cStp:function(N,O){if((!this.c_fStp)||(this.c_StpOnce&&this.c_fStp.Wse_Called)){return this}this.cClrItems();this.c_fStp(this,N,O);this.c_fStp.Wse_Called=true;return this}},{seUseFld:function(N,O,P){if(!N){return null}if(O&&(!E.fIsUdfn(O[N]))){return O[N]}return(P&&(!E.fIsUdfn(P[N])))?P[N]:null},seAccStl:function(N,O,P,Q,R){if(!N){return null}var S=L.seUseFld(N,O,P);if(G.cIsEmt(S)){return null}var T={};G.cFor(S,function(U,V,W){W(T,Q,R)});return T}},false)})();var M;(function(){M=function(){};K.stEfcMgr=M;M.oc_nHost=K;M.oc_FullName=K.ocBldFullName("stEfcMgr");M.ocBldFullName=function(V){return M.oc_FullName+"."+V};var N=null,O=4;function P(V){return N.cAcsAry(V)}function Q(V){return V.toString()+"px"}function R(V){return Math.min(window.innerWidth,V.offsetWidth)}function S(V){return Math.min(window.innerHeight,V.offsetHeight)}function T(V,W){return function(X,Y,Z){X["opacity"]=E.fIsUdfnOrNull(V)?W:V}}M.cIsuCssAnmt=function(V,W,X,Y,Z,a,b,c){if(!Y){throw new Error("a_Which有误！")}var d=(1==Y)?"c_fOnEntBgn":((2==Y)?"c_fOnRflBgn":"c_fOnLeaBgn");U(d,Z,a,[W,X]);var e=(1==Y)?"c_CssLeaCln":((2==Y)?"c_CssLeaCln":"c_CssEntCln"),f=(1==Y)?"c_CssEntEnd":((2==Y)?null:"c_CssLeaEnd"),g=H.cShlwAsn({},L.seAccStl(e,Z,a,W,X),L.seAccStl(f,Z,a,W,X),b);function h(){if(c){c()}var l=(1==Y)?"c_CssEntCln":((2==Y)?"c_CssEntCln":"c_CssLeaCln"),m=L.seAccStl(l,Z,a,W,X);if(m){J.cSetStl(X,m)}var n=(1==Y)?"c_fOnEntEnd":((2==Y)?"c_fOnRflEnd":"c_fOnLeaEnd");U(n,Z,a,[W,X]);K.fTrgrPutEvt(X,"AnmtEnd",null)}if((!V)){J.cSetStl(X,g);h();return}if(1==Y){J.cSetStl(X,L.seAccStl("c_CssEntBgn",Z,a,W,X))}var i=(1==Y)?"c_EntDur":((2==Y)?"c_RflDur":"c_LeaDur"),j=(1==Y)?"c_fEntEsn":((2==Y)?"c_fRflEsn":"c_fLeaEsn"),k=(1==Y)?"c_fEntMove":((2==Y)?"c_fRflMove":"c_fLeaMove");J.cAnmt(X,g,{c_Dur:L.seUseFld(i,Z,a),c_fEsn:L.seUseFld(j,Z,a),c_fMove:L.seUseFld(k,Z,a),c_fOnUpd:K.fHasPutEvtHdlr(X,"AnmtUpd")&&function(l,m,n,o,p,q){K.fTrgrPutEvt(X,"AnmtUpd",arguments)},c_fOnEnd:h})};function U(V,W,X,Y){var Z=L.seUseFld(V,W,X);if(Z){Z.apply(null,Y)}}M.cBind=function(V){M.cUbnd();N=V;return M};M.cUbnd=function(){N=null;return M};M.cCssEntBgn_FromLt=function(){P("c_CssEntBgn").push(function(V,W,X){V["left"]=Q(-O-X.offsetWidth)});return M};M.cCssEntBgn_FromHc=function(){P("c_CssEntBgn").push(function(V,W,X){V["left"]=Q((R(W)-X.offsetWidth)/2)});return M};M.cCssEntBgn_FromRt=function(){P("c_CssEntBgn").push(function(V,W,X){V["left"]=Q(R(W)+O)});return M};M.cCssEntBgn_FromUp=function(){P("c_CssEntBgn").push(function(V,W,X){V["top"]=Q(-O-X.offsetHeight)});return M};M.cCssEntBgn_FromVc=function(){P("c_CssEntBgn").push(function(V,W,X){V["top"]=Q((S(W)-X.offsetHeight)/2)});return M};M.cCssEntBgn_FromDn=function(){P("c_CssEntBgn").push(function(V,W,X){V["top"]=Q(S(W)+O)});return M};M.cCssEntBgn_Aph=function(V){P("c_CssEntBgn").push(T(V,0));return M};M.cCssEntEnd_Aph=function(V){P("c_CssEntEnd").push(T(V,1));return M};M.cCssLeaEnd_ToLt=function(){P("c_CssLeaEnd").push(function(V,W,X){V["left"]=Q(-O-X.offsetWidth)});return M};M.cCssLeaEnd_ToHc=function(){P("c_CssLeaEnd").push(function(V,W,X){V["left"]=Q((R(W)-X.offsetWidth)/2)});return M};M.cCssLeaEnd_ToRt=function(){P("c_CssLeaEnd").push(function(V,W,X){V["left"]=Q(R(W)+O)});return M};M.cCssLeaEnd_ToUp=function(){P("c_CssLeaEnd").push(function(V,W,X){V["top"]=Q(-O-X.offsetHeight)});return M};M.cCssLeaEnd_ToVc=function(){P("c_CssLeaEnd").push(function(V,W,X){V["top"]=Q((S(W)-X.offsetHeight)/2)});return M};M.cCssLeaEnd_ToDn=function(){P("c_CssLeaEnd").push(function(V,W,X){V["top"]=Q(S(W)+O)});return M};M.cCssLeaEnd_Aph=function(V){P("c_CssLeaEnd").push(T(V,0));return M};M.cCssLeaCln_Aph=function(V){P("c_CssLeaCln").push(T(V,1));return M};M.cCssEnt_From=function(V,W){var X=V?("cCssEntBgn_From"+V):null,Y=W?("cCssEntBgn_From"+W):null;if(X){M[X]()}if(Y){M[Y]()}return M};M.cCssLea_To=function(V,W){var X=V?("cCssLeaEnd_To"+V):null,Y=W?("cCssLeaEnd_To"+W):null;if(X){M[X]()}if(Y){M[Y]()}return M};M.cCssEntLea_FromTo=function(V,W,X,Y){M.cCssEnt_From(V,W).cCssLea_To((X||V),(Y||W));return M};M.cCssEnt_FadeIn=function(V,W){M.cCssEntBgn_Aph(V).cCssEntEnd_Aph(W);return M};M.cCssLea_FadeOut=function(V,W){M.cCssLeaEnd_Aph(V).cCssLeaCln_Aph(W);return M};M.cCssEntLea_Fade=function(V,W,X,Y){M.cCssEnt_FadeIn(V,W).cCssLea_FadeOut(X,Y);return M};M.cGetTgtAreaCenX=function(V){return V.c_X+V.c_W/2};M.cGetTgtAreaCenY=function(V){return V.c_Y+V.c_H/2};M.cPushToScrnEdge=function(V,W,X,Y,Z,a){var b,c,d,e,f,g,h;c=F.cItsc_Ray_Lnsg(W,X,Y,Z,0,0,0,window.innerHeight);d=F.cItsc_Ray_Lnsg(W,X,Y,Z,window.innerWidth,0,window.innerWidth,window.innerHeight);e=F.cItsc_Ray_Lnsg(W,X,Y,Z,0,0,window.innerWidth,0);f=F.cItsc_Ray_Lnsg(W,X,Y,Z,0,window.innerHeight,window.innerWidth,window.innerHeight);if(c||d||e||f){b=(c>0)?c:Math.max(c,d,e,f);b=(d>0)?Math.min(b,d):b;b=(e>0)?Math.min(b,e):b;b=(f>0)?Math.min(b,f):b;g=W+b*Y;h=X+b*Z;if(b==c){V.c_X=a?(g):(g-V.c_W);V.c_Y=h-V.c_H/2}else if(b==d){V.c_X=a?(g-V.c_W):(g);V.c_Y=h-V.c_H/2}else if(b==e){V.c_X=g-V.c_W/2;V.c_Y=a?(h):(h-V.c_H)}else{V.c_X=g-V.c_W/2;V.c_Y=a?(h-V.c_H):(h)}}else{g=W;h=X;V.c_X=g;V.c_Y=h}return V}})()}})();(function(){var A=("undefined"==typeof self),B=A?global:self;if(B.nWse&&B.nWse.nUi&&B.nWse.nUi.tWgt){return}B.nWse.stAsynIcld.cFromLib("nWse:nUi",["(0)Plmvc.js","nWse:PntIptTrkr.js"],C);function C(D){console.log("Wgt.fOnIcld："+D);var E=B.nWse,F=E.stNumUtil,G=E.stStrUtil,H=E.stAryUtil,I=E.stDomUtil,J=E.stCssUtil,K=E.tSara,L=E.tPntIptTrkr,M=L.tPntIpt,N=M.tKind,O=M.tTch,P=E.nUi,Q=P.unKnl;function R(Y,Z){var a=Q.fObtnPutSrc(Z.c_PutSrc);if(!a.Wse_Wgt){a.Wse_Wgt={}}a.Wse_Wgt.c_Wgt=Y;return a}function S(Y,Z,a){var b=Q.fObtnPutTgt(Z.c_PutTgt,a,V.sd_PutTgtSlc);V.sd_PutTgtSlc="";if(!b.Wse_Wgt){b.Wse_Wgt={}}b.Wse_Wgt.c_Wgt=Y;return b}function T(Y){Q.fClnPutTgt(Y.d_PutTgt,Y.d_PutSrc)}function U(Y,Z){Y.d_DmntTchId=Z||null}var V,W,X;(function(){V=E.fClass(P,function tWgt(){var Y=this;this.d_Cfg=null;this.d_PutSrc=null;this.d_PutTgt=null;this.d_PutSrcOrigCssc=null;this.d_PutTgtOrigCssc=null},null,{vcBind:function f(Y){var Z=this;if(Z.d_PutSrc){Z.vcUbnd()}if(!Y){return this}Z.d_Cfg=Y;var a=R(Z,Y);if(!a){throw new Error("c_PutSrc无效！")}var b=S(Z,Y,a);Z.d_PutSrc=a;Z.d_PutTgt=b;J.cAddCssc(Z.d_PutTgt,"cnWse_tWgt_Nml");return this},vcUbnd:function f(){var Y=this;if(Y.d_PutTgt){if(Y.d_PutTgt.Wse_Wgt){Y.d_PutTgt.Wse_Wgt=null}Q.fAbdnPutTgt(Y.d_PutTgt);Y.d_PutTgt=null}if(Y.d_PutSrc){if(Y.d_PutSrc.Wse_Wgt){Y.d_PutSrc.Wse_Wgt=null}Q.fAbdnPutSrc(Y.d_PutSrc);Y.d_PutSrc=null}Y.d_Cfg=null;return this},vcSrlz:function f(Y){return Y},vcFnshAnmt:function f(){var Y=this;return this},vcRfshBefLot:function f(){var Y=this;return this},vcRfshAftLot:function f(){var Y=this;return this},vcIptRset:function f(){U(this,null);return this},vcHdlIpt:function f(Y){var Z=this,a;if(Z.d_DmntTchId){a=Y.cFindTchById(Z.d_DmntTchId);if(a<0){U(Z,null);return}}else{a=Y.cFindTchByPkdWgt(this);if(a<0){if(Y.cHasTchOfKind(N.i_TchBgn)){P.stFrmwk.cRmvFocs(Z)}return}U(Z,Y.c_Tchs[a].c_TchId)}Z.vdHdlIptFromDmntTch(Y,a,Y.c_Tchs[a]);return this},vdHdlIptFromDmntTch:function f(Y,Z,a){var b=this;if(b.dIsTchLostOrEnd(a)){b.vcIptRset();a.c_Hdld=true}if(b.dIsTchBgn(a)){b.dRplcCsscForPutTgt("cnWse_tWgt_Nml","cnWse_tWgt_Tch",true)}else if(b.dIsTchLostOrEnd(a)){b.dRplcCsscForPutTgt("cnWse_tWgt_Tch","cnWse_tWgt_Nml",true)}return this},vcGainFoc:function f(){return this},vcLoseFoc:function f(){return this},cRfsh:function(){return P.stFrmwk.cIsDurLot()?this:this.vcRfshBefLot().vcRfshAftLot()},dIsTchBgn:function(Y){return(N.i_TchBgn==Y.c_Kind)},dIsTchLost:function(Y){return(N.i_TchLost==Y.c_Kind)},dIsTchEnd:function(Y){return(N.i_TchEnd==Y.c_Kind)},dIsTchLostOrEnd:function(Y){return this.dIsTchLost(Y)||this.dIsTchEnd(Y)},cClnPutTgt:function f(){if(!this.d_PutTgt){return this}var Y=this;T(Y);return this},cAcsPutSrc:function(){return this.d_PutSrc},cAcsPutTgt:function(){return this.d_PutTgt},cGetPutTgtWid:function(){return this.d_PutTgt?this.d_PutTgt.clientWidth:0},cGetPutTgtHgt:function(){return this.d_PutTgt?this.d_PutTgt.clientHeight:0},dGnrtQrySlc_PutSrc:function(){return this.d_PutSrc?("#"+this.d_PutSrc.id):""},dGnrtQrySlc_PutTgt:function(){return this.d_PutTgt?("#"+this.d_PutTgt.id):""},dAcsDomNodeByAttr:function(Y){var Z=I.cQryOne(this.dGnrtQrySlc_PutSrc()+">[data-"+Y+"]");if(!Z){Z=I.cQryOne(this.dGnrtQrySlc_PutTgt()+">[data-"+Y+"]")}return Z},dGetDomNodesByAttr:function(Y,Z){var a=Z?this.dGnrtQrySlc_PutTgt():this.dGnrtQrySlc_PutSrc(),b=I.cQryAll(a+">[data-"+Y+"]");return b},dIsPutInTgt:function(Y){return Q.fIsPutInTgt(this.d_PutTgt,Y)},dIsPutInSrc:function(Y){return Q.fIsPutInSrc(this.d_PutSrc,Y)},dPutToTgt:function(Y,Z){Q.fPutToTgt(this.d_PutTgt,this.d_PutSrc,Y,Z,true);return this},dRtnToSrc:function(Y,Z){Q.fRtnToSrc(this.d_PutTgt,this.d_PutSrc,Y,Z,true);return this},dRplcCsscForPutTgt:function(Y,Z,a){J.cRplcCssc(this.d_PutTgt,Y,Z,a);return this},dIsSelfOrDsdtOfPutTgt:function(Y){return I.cIsSelfOrAcst(this.d_PutTgt,Y)},dCalcPutTgtBbox:function(Y){return Y.cCrt(0,0,this.d_PutTgt.offsetWidth,this.d_PutTgt.offsetHeight)},dGetPutTgtWid:function(){var Y=P.stFrmwk.cAcsPutTgtArea(this.d_PutTgt);return Y?Y.c_W:0},dGetPutTgtCtntWid:function(){var Y=P.stFrmwk.cAcsPutTgtArea(this.d_PutTgt);if(!Y){return 0}var Z=V.sd_PutTgtBdrThk,a=V.sd_PutTgtPad;J.cGetBdrThk(Z,this.d_PutTgt);J.cGetPad(a,this.d_PutTgt);var b=Y.c_W-Z.c_BdrThkLt-Z.c_BdrThkRt-a.c_PadLt-a.c_PadRt;return Math.max(b,0)},dClrPutTgtCssHgt:function(){if(this.d_PutTgt&&this.d_PutTgt.style.height){this.d_PutTgt.style.height=""}return this},dRegPutTgtEvtHdlr_OnAnmtUpdEnd:function(Y){P.fRegPutEvtHdlr(this.d_PutTgt,"AnmtUpd",Y);P.fRegPutEvtHdlr(this.d_PutTgt,"AnmtEnd",Y);return this},dUrgPutTgtEvtHdlr_OnAnmtUpdEnd:function(Y){P.fUrgPutEvtHdlr(this.d_PutTgt,"AnmtUpd",Y);P.fUrgPutEvtHdlr(this.d_PutTgt,"AnmtEnd",Y);return this},dGetKeyOfSrlz:function(){return this.d_PutSrc?(this.d_PutSrc.name||this.d_PutSrc.id):""},dChkKeyOnSrlz:function(Y,Z){if(!Z){Z=this.dGetKeyOfSrlz()}if(Z in Y){throw new Error("tWgt序列化时遇到键冲突：“"+Z+"”！")}return Z}},{sd_PutTgtSlc:"",sd_PutTgtBdrThk:{},sd_PutTgtPad:{}},false)})();(function(){W=E.fClass(P,function tWgtSet(){this.cRset()},null,{cRset:function(){this.e_Wgts=[];return this},cAcsWgts:function(){return this.e_Wgts},cGetAmt:function(){return this.e_Wgts.length},cClr:function(){this.e_Wgts.length=0;return this},cFindByPutSrcId:function(Y){if(!Y){return-1}var Z=this;return H.cFind(Z.e_Wgts,function(a,b,c){return(c.d_PutSrc&&(c.d_PutSrc.id==Y))})},cAcsByIdx:function(Y){return H.cIsIdxVld(this.e_Wgts,Y)?this.e_Wgts[Y]:null},cAcsByPutSrcId:function(Y){return this.cAcsByIdx(this.cFindByPutSrcId(Y))},cAdd:function(Y){if(this.e_Wgts.indexOf(Y)>=0){return this}this.e_Wgts.push(Y);return this},cRmvByPutSrcId:function(Y){return this.cRmvByIdx(this.cFindByPutSrcId(Y))},cRmvByIdx:function(Y){if(!H.cIsIdxVld(this.e_Wgts,Y)){return this}this.e_Wgts.splice(Y,1);return this},cClnPutTgt:function(){var Y=this;H.cFor(Y.e_Wgts,function(Z,a,b){b.cClnPutTgt()});return this},cUbndAll:function(){var Y=this;H.cFor(Y.e_Wgts,function(Z,a,b){b.vcUbnd()});return this},cRfshBefLot:function(){H.cFor(this.e_Wgts,function(Y,Z,a){a.vcRfshBefLot()});return this},cRfshAftLot:function(){H.cFor(this.e_Wgts,function(Y,Z,a){a.vcRfshAftLot()});return this},cRfsh:function(){if(P.stFrmwk.cIsDurLot()){return this}H.cFor(this.e_Wgts,function(Y,Z,a){a.cRfsh()});return this}},{},false)})();(function(){X=E.fClass(P,function tForm(){this.odBase(tForm).odCall();this.d_WgtSet=new P.tWgtSet()},V,{vcBind:function f(Y){var Z=this;return this},vcUbnd:function f(){var Y=this;return this},vcFnshAnmt:function f(){var Y=this;H.cFor(Y.d_WgtSet.cAcsWgts(),function(Z,a,b){b.vcFnshAnmt()});return this},vcRfshBefLot:function f(){var Y=this;H.cFor(Y.d_WgtSet.cAcsWgts(),function(Z,a,b){b.vcRfshBefLot()});return this},vcRfshAftLot:function f(){var Y=this;H.cFor(Y.d_WgtSet.cAcsWgts(),function(Z,a,b){b.vcRfshAftLot()});return this},vcIptRset:function f(){var Y=this;H.cFor(Y.d_WgtSet.cAcsWgts(),function(Z,a,b){b.vcIptRset()});return this},cSrlz:function(Y){if(!Y){Y={}}var Z=this;H.cFor(Z.d_WgtSet.cAcsWgts(),function(a,b,c){c.vcSrlz(Y)});return Y},cAcsWgtSet:function(){return this.d_WgtSet}},{},false)})()}})();(function(){var A=("undefined"==typeof self),B=A?global:self;if(B.nWse&&B.nWse.nUi&&B.nWse.nUi.stFrmwk){return}B.nWse.stAsynIcld.cFromLib("nWse:nUi",["Wgt.js"],C);function C(D){console.log("Frmwk.fOnIcld："+D);var E=B.nWse,F=E.stAryUtil,G=E.stDomUtil,H=E.stCssUtil,I=E.tPntIptTrkr,J=I.tPntIpt,K=J.tKind,L=J.tTch,M=E.nUi,N;(function(){N=function(){};M.stFrmwk=N;N.oc_nHost=M;N.oc_FullName=M.ocBldFullName("stFrmwk");N.ocBldFullName=function(h){return N.oc_FullName+"."+h};var O=null,P=null,Q=false,R=null,S=null,T=[],U={};function V(){O=new I();O.cInit(true);O.cSetImdtHdlr(e);G.cAddEvtHdlr_WndRsz(function(){var h=U["WndRszBefLot"];if(h){h.cFor()}N.cRunLot();h=U["WndRszAftLot"];if(h){h.cFor()}},0.1)}V();function W(h){var i=G.cSrchSelfAndAcst(h,function(a_DomSA){return a_DomSA.Wse_Wgt&&a_DomSA.Wse_Wgt.c_Wgt});return(i&&i.Wse_Wgt)?i.Wse_Wgt.c_Wgt:null}function X(h){if((!h)||(T.indexOf(h)>=0)){return}T.push(h);h.vcGainFoc()}function Y(h){var i=h?T.indexOf(h):-1;if(i<0){return}h.vcLoseFoc();T.splice(i,1)}function Z(){F.cFor(T,function(h,i,j){j.vcLoseFoc()});T.length=0}function a(h){if(!E.fIsAry(h)){return X(h)}F.cFor(h,function(i,j,k){X(k)})}function b(h){if(!E.fIsAry(h)){return Y(h)}F.cFor(h,function(i,j,k){Y(k)})}function c(h){Z();a(h)}function d(h){return h&&(T.indexOf(h)>=0)}N.eRmvFoc=function(h,i){F.cFor(h.c_Tchs,function(j,k,l){if(l.c_FocWgt===i){l.c_FocWgt=null}})};function e(h){h.cForTchs(function(q,r,s){var t=s.cAcsEvtTgt();if(!t){s.c_PkdWgt=null;return}var u=W(t);s.c_PkdWgt=u});var j=32,k=0,l=[],m,i,n,o,p=T;do{m=false;n=p.length;for(i=0;i<n;++i){o=p[i];if(l.indexOf(o)>=0){continue}m=true;o.vcHdlIpt(h);l.push(o);break}if((!m)&&h.cHasUhdlTch()){m=f(h)}++k}while(m&&(k<j));if(k>=j){console.log("nUi.stFrmwk.fIptHdlr：迭代法被强制终结")}}function f(h){var i=this,j=false;h.cForTchsByKind(K.i_TchBgn,true,function(k,l,m){if(m.c_PkdWgt&&(!d(m.c_PkdWgt))){X(m.c_PkdWgt);j=true}});return j}function g(h){Q=true;if(R){R.cRfshBefLot()}if(S){S.cRfshBefLot()}if(P){h?P.cRfl():P.cRun()}if(S){S.cRfshAftLot()}if(R){R.cRfshAftLot()}Q=false}N.cIptRset=function(){F.cFor(T,function(h,i,j){j.vcIptRset()});return N};N.cAcsLot=function(){return P};N.cSetLot=function(h){P=h||null;return N};N.cIsDurLot=function(){return Q};N.cRunLot=function(){g(false);return N};N.cRflLot=function(){g(true);return N};N.cAcsGlbWgtSet=function(){if(!R){R=new M.tWgtSet()}return R};N.cAcsStaWgtSet=function(){return S};N.cSetStaWgtSet=function(h){Z();S=h||null;return N};N.cClrFocs=function(){Z();return N};N.cAddFocs=function(h){if(h){a(h)}return N};N.cRmvFocs=function(h){if(h){b(h)}return N};N.cAcsPutTgtArea=function(h){if(!P){return null}var i=P.constructor.scAcsPutTgtArea||null;return i&&i(h)};N.cRegEvtHdlr=function(h,i){if(!U[h]){U[h]=new E.tEvtHdlrAry()}if(U[h].cFind(i)<0){U[h].cReg(i)}return N};N.cUrgEvtHdlr=function(h,i){if((!U[h])||(U[h].cFind(i)<0)){return N}U[h].cUrg(i);return N}})()}})();(function(){var A=("undefined"==typeof self),B=A?global:self;if(B.nWse&&B.nWse.tPcdrLot){return}B.nWse.stAsynIcld.cFromLib("nWse:nUi",["(0)Plmvc.js"],C);function C(D){console.log("PcdrLot.fOnIcld："+D);var E=B.nWse,F=E.stNumUtil,G=E.stAryUtil,H=E.stStrUtil,I=E.stObjUtil,J=E.stFctnUtil,K=E.stDomUtil,L=E.stCssUtil,M=E.tSara,N=E.nUi,O=N.unKnl;function P(与,丏){var 丐=G.cRvsFind(与.e_Cfg.c_BrkPnts,function(a_Tgt,a_Idx,a_Elmt){return(丏>=a_Elmt)});return(丐<0)?0:丐}function Q(与,丏,丐,丑,丒){var 专=document.createElement(丏.c_HtmlTag||丒);专.id=丏.c_Id||丑;L.cSetCssc(专,H.cCcat(丐," ",丏.c_Cssc));专.Wse_PcdrLot={c_From:0};return 专}function R(与,丏,丐,丑){var 丒=document.getElementById(丏.c_Id||丑);if(丒){L.cSetCssc(丒,H.cCcat(丐," ",丏.c_Cssc));丒.Wse_PcdrLot={c_From:1}}return 丒}function S(与,丏,丐,丑,丒){return R(与,丏,丐,丑)||Q(与,丏,丐,丑,丒)}function T(与,丏){var 丐=G.cFind(与.e_RmvdPutAry,function(a_Ary,a_Idx,a_Put){return(a_Put.id==丏)}),丑=-1,丒=(丐<0)?-1:1,专=(丒<0)?document.getElementById(丏):与.e_RmvdPutAry[丐];if(专){if(专.Wse_PcdrLot){丑=专.Wse_PcdrLot.c_From}if(丒<0){丒=(与.e_DomRmvd===专.parentNode)?2:0}专.Wse_PcdrLot?(专.Wse_PcdrLot.c_From=丒):(专.Wse_PcdrLot={c_From:丒});if(0==丒){if(!专.Wse_Put){专.Wse_Put={}}专.Wse_Put.c_OrigPrn=专.parentNode}else if(1==丒){与.e_RmvdPutAry.splice(丐,1)}else if(2==丒){与.e_DomRmvd.removeChild(专)}if(与.e_RunCnt>1){专.Wse_PcdrLot.c_From=丑}}return 专}function U(与,丏,丐){var 丑=0,丒=0;if(丐.c_ColDvd&&(丐.c_ColDvd.length>0)){丏.Wse_PcdrLot.c_ColDvd=Array.prototype.slice.call(丐.c_ColDvd);丑=G.cSum(0,丏.Wse_PcdrLot.c_ColDvd,function(专,且,丕,世){if(null===世){++丒;return 专}if(0===世){throw new Error("不能有百分数为0的列")}return 专+世});if(丑>100){throw new Error("百分数之和＞100")}if(丒>0){if(100===丑){throw new Error("null列的百分数计算得0")}G.cFor(丏.Wse_PcdrLot.c_ColDvd,function(专,且,丕){if(null===丕){专[且]=(100-丑)/丒}})}}else{丏.Wse_PcdrLot.c_ColDvd=[100]}}function V(与){return(与.e_BoaAry.length>0)?与.e_BoaAry[与.e_BoaAry.length-1]:null}function W(与){var 丏=V(与),丐=(丏&&丏.Wse_PcdrLot)?丏.Wse_PcdrLot.c_ColAry:null;return 丐?丐[丐.length-1]:null}function X(与,丏,丐){丐=丐||L.cGetCmptStl(丏);var 丑=丏.Wse_PcdrLot.c_CssDim;丑.c_MinHgt=parseFloat(丐.minHeight);if(isNaN(丑.c_MinHgt)){丑.c_MinHgt=0}L.cGetBdrThk(丑,丏,丐);L.cGetPad(丑,丏,丐);Z(丑)}function Y(与,丏,丐,丑){丑=丑||L.cGetCmptStl(丐);var 丒=丐.Wse_PcdrLot.c_CssDim;L.cGetBdrThk(丒,丐,丑);L.cGetPad(丒,丐,丑);Z(丒)}function Z(与){与.c_BpUp=与.c_BdrThkUp+与.c_PadUp;与.c_BpDn=与.c_PadDn+与.c_BdrThkDn;与.c_BpUpDn=与.c_BpUp+与.c_BpDn;与.c_BpLt=与.c_BdrThkLt+与.c_PadLt;与.c_BpRt=与.c_PadRt+与.c_BdrThkRt;与.c_BpLtRt=与.c_BpLt+与.c_BpRt}function a(与,丏){丏.Wse_PcdrLot.c_Y=0;var 丐=与.e_BoaAry,丑=丐.indexOf(丏),丒;if(丑>0){丒=丐[丑-1];丏.Wse_PcdrLot.c_Y+=丒.Wse_PcdrLot.c_Y+丒.Wse_PcdrLot.c_H}}function b(与,丏,丐){return 丐?与.cGetBrkPntWid():与.cGetPutTgtWid()}function c(与,丏,丐){var 丑=b(与,丏,丐);丑-=丏.Wse_PcdrLot.c_CssDim.c_BpLtRt;return 丑}function d(与,丏){if(0==与.e_BoaAry.length){return}var 丐=0,丑=丏.Wse_PcdrLot.c_Cfg.c_FxdAr;G.cFor(丏.Wse_PcdrLot.c_ColAry,function(丒,专,且){丐=Math.max(丐,k(与,丏,且))});if(丑){丐=Math.max(丐,b(与,丏)/丑)}丐=Math.max(丐,丏.Wse_PcdrLot.c_CssDim.c_MinHgt);丏.Wse_PcdrLot.c_H=丐+丏.Wse_PcdrLot.c_CssDim.c_BpUpDn;L.cSetDimHgt(丏,丏.Wse_PcdrLot.c_H)}function e(与,丏,丐){var 丑=0;G.cFind(丏.Wse_PcdrLot.c_ColAry,function(丒,专,且){if(且===丐){return true}丑+=且.Wse_PcdrLot.c_W;return false});丑+=丏.Wse_PcdrLot.c_CssDim.c_BpLt;return 丑}function f(与,丏,丐){var 丑=e(与,丏,丐);丑+=丐.Wse_PcdrLot.c_CssDim.c_BpLt;return 丑}function g(与,丏,丐){var 丑=丏.Wse_PcdrLot.c_Y+丏.Wse_PcdrLot.c_CssDim.c_BpUp;return 丑}function h(与,丏,丐){var 丑=g(与,丏,丐);丑+=丐.Wse_PcdrLot.c_CssDim.c_BpUp;return 丑}function i(与,丏,丐,丑,丒){var 专=c(与,丏,丒),且=专*(丑/100);return 且}function j(与,丏,丐,丑,丒){var 专=i(与,丏,丐,丑,丒);专-=丐.Wse_PcdrLot.c_CssDim.c_BpLtRt;return 专}function k(与,丏,丐){var 丑=l(与,丏,丐);丑+=丐.Wse_PcdrLot.c_CssDim.c_BpUpDn;return 丑}function l(与,丏,丐){return G.cSum(0,丐.Wse_PcdrLot.c_RowHgts,null)}function m(与,丏,丐,丑){var 丒=E.fIsUdfnOrNull(丑)?丏.Wse_PcdrLot.c_ColAry.indexOf(丐):丑,专=丏.Wse_PcdrLot.c_ColDvd[丒],且=j(与,丏,丐,专,true),丕=j(与,丏,丐,专,false),世=丐.Wse_PcdrLot.c_GridTot;丐.Wse_PcdrLot.c_BaseGridUnit=且/世;丐.Wse_PcdrLot.c_CrntGridUnit=丕/世}function n(与){G.cFor(与.e_BoaAry,function(丏,丐,丑){G.cFor(丑.Wse_PcdrLot.c_ColAry,function(丒,专,且){K.cSetAllChds(且,且.Wse_PcdrLot.c_PutAry)});K.cSetAllChds(丑,丑.Wse_PcdrLot.c_ColAry)});K.cSetAllChds(与.e_DomFlow,与.e_BoaAry)}function o(与){if(!与.e_WidPct){return}var 丏=与.cAcsPutTgt(),丐=丏.parentNode,丑=丐.clientWidth;if(丑<与.e_PrnWidWhenRunBgn){与.e_RunAgn=true}else if(丑>与.e_PrnWidWhenRunBgn){if(1==与.e_RunCnt){与.e_RunAgn=true}}}function p(与){G.cFor(与.e_RmvdPutAry,function(丏,丐,丑){q(与,null,null,丑,false,true,null,null)});与.e_RmvdPutAry.length=0}function q(与,丏,丐,丑,丒,专,且,丕){var 世=丑.Wse_PcdrLot,丗=世&&世.c_Cfg,丘=N.tEfc||null;function 丙(){var 业=丗&&丗.c_Cssc;if(业){L.cRmvCssc(丑,业)}L.cRmvCssc(丑,"cnWse_tPcdrLot_Put");var 丛=((丑.Wse_Put&&丑.Wse_Put.c_OrigPrn)||与.e_PutSrc);r(与,丏,丐,丑,丒,丛);var 东;if(专&&且){东=丕.indexOf(丑);if(东>=0){丕.splice(东,1)}if(0==丕.length){且(与)}}var 丝=丑.Wse_PcdrLot.c_Cfg.c_fAftRtn;if(丝){丝(丑)}}if((!丘)){丙();return}r(与,丏,丐,丑,丒,与.e_DomRmvd);N.stEfcMgr.cIsuCssAnmt(专,与.e_PutTgt,丑,3,丑.Wse_PcdrLot.c_Cfg.c_Efc,与.e_DftEfc,null,丙)}function r(与,丏,丐,丑,丒,专){var 且=(丒&&丐)?丐.Wse_PcdrLot.c_PutAry.indexOf(丑):-1;if(且>=0){丐.Wse_PcdrLot.c_PutAry.splice(且,1)}专.appendChild(丑)}function s(与,丏,丐,丑,丒,专){G.cFor(与.e_BoaAry,function(且,丕,世){if(丏){丏(与,世,丕)}G.cFor(世.Wse_PcdrLot.c_ColAry,function(丗,丘,丙){if(丐){丐(与,世,丙,丘)}G.cFor(丙.Wse_PcdrLot.c_PutAry,function(业,丛,东){丑(与,世,丙,东,丛)});if(丒){丒(与,世,丙,丘)}});if(专){专(与,世,丕)}})}function t(与,丏,丐){var 丑=(丏&&丐)?[]:null;s(与,null,function(丒,专,且){且.Wse_PcdrLot.c_RowHgts.length=0},function(丒,专,且,丕){if(丏&&丐){丑.push(丕)}q(丒,专,且,丕,false,丏,丐,丑)},function(丒,专,且){且.Wse_PcdrLot.c_PutAry.length=0});if((!丏)&&丐){丐(与)}}function u(与){G.cFor(与.e_TmrIdAry,function(丏,丐,丑){clearTimeout(丑)});与.e_TmrIdAry=null;if(与.e_ShowGrid){与.cShowHideGrid(false)}if(与.e_DomFlow){t(与,false)}if(与.e_DomCstm){v(与,与.e_DomCstm)}if(与.e_DomRmvd){v(与,与.e_DomRmvd)}if(与.e_DomFlow){与.e_PutTgt.removeChild(与.e_DomFlow)}if(与.e_DomCstm){与.e_PutTgt.removeChild(与.e_DomCstm)}if(与.e_DomRmvd){与.e_PutTgt.removeChild(与.e_DomRmvd)}与.e_DomFlow=null;与.e_DomCstm=null;与.e_DomRmvd=null;与.e_BoaAry=[];与.e_PutIdRgtr=null;与.e_RmvdPutAry=[];与.e_ImgSrcRgtr=[];与.e_TmrIdAry=[]}function v(与,丏){var 丐=K.cGetAllChds(丏);G.cFor(丐,function(丑,丒,专){if(1==专.nodeType){q(与,null,null,专,false,false,null,null)}})}function w(与){与.e_DomFlow=x(与,"FlowZone","cnWse_tPcdrLot_FlowZone");与.e_DomRmvd=x(与,"RmvdZone","cnWse_tPcdrLot_RmvdZone")}function x(与,丏,丐){var 丑=与.cAcsPutTgt();丏=丑.id+"_"+丏;var 丒=document.createElement("div");丒.id=丏;L.cAddCssc(丒,丐);丑.appendChild(丒);return 丒}function y(与){if(!与.e_WidPct){throw new Error("a_This.e_WidPct是0或null")}var 丏=与.cAcsPutTgt(),丐=丏.parentNode,丑=Math.floor(丐.clientWidth*与.e_WidPct/100+0.5);丑=F.cClmOnNum(丑,与.e_MinWid,与.e_MaxWid);丏.style.width=丑.toString()+"px"}function z(与){var 丏=与.cAcsPutTgt(),丐=丏.parentNode;与.e_PrnWidWhenRunBgn=丐.clientWidth;if(与.e_UseBrkPntWid){L.cSetDimWid(丏,与.cGetBrkPntWid(P(与,丐.clientWidth)))}else if(与.e_WidPct){y(与)}与.e_PutTgt.style.minHeight=(与.e_MinHgt||window.innerHeight).toString()+"px"}function 一(与,丏){var 丐=与.cAcsPutTgt();与.e_RmvdPutAry.length=0;G.cFor(与.e_BoaAry,function(丑,丒,专){G.cFor(专.Wse_PcdrLot.c_ColAry,function(且,丕,世){if(丏){G.cFor(世.Wse_PcdrLot.c_PutAry,function(丗,丘,丙){丙.Wse_PcdrLot.c_From=1})}else{Array.prototype.push.apply(与.e_RmvdPutAry,世.Wse_PcdrLot.c_PutAry)}})});if(!丏){与.e_BoaAry.length=0;与.e_PutIdRgtr={}}}function 丁(与,丏){var 丐=与.e_ShowGrid;if(丐){丌(与,false)}if(null==与.e_DomFlow){w(与)}var 丑=与.e_BrkPntIdx;与.e_RunCnt=0;丂(与,丏);if(丐){丌(与,true)}if((与.e_BrkPntIdx!=丑)){上(与)}}function 丂(与,丏){++与.e_RunCnt;z(与);一(与,丏);var 丐,丑,丒;if(!丏){丐=与.cGetPutTgtWid();丑=P(与,丐);丒=与.e_Cfg.c_fBpc;if(-1==与.e_BrkPntIdx){与.e_Rsn="初始"}else if(与.e_BrkPntIdx==丑){与.e_Rsn="更新"}else{与.e_Rsn=与.e_BrkPntIdx}与.e_BrkPntIdx=丑}try{与.e_RunAgn=false;与.e_DurCabk=true;if(!丏){if(丒){丒(与)}p(与);n(与)}七(与,丏);o(与)}finally{与.e_DurCabk=false}if(与.e_RunAgn){丂(与,false)}}function 七(与,丏){var 丐=与;G.cFor(丐.e_BoaAry,function(丑,丒,专){X(与,专);a(丐,专);专.Wse_PcdrLot.c_AlctdW=0;var 且=b(与,专,与.e_UseBrkPntWid),丕=c(与,专,与.e_UseBrkPntWid),世=专.Wse_PcdrLot.c_ColDvd;L.cSetDimWid(专,且);G.cFor(专.Wse_PcdrLot.c_ColAry,function(丘,丙,业){Y(与,专,业);var 丛=(丙<丘.length-1)?Math.round(i(与,专,业,世[丙],与.e_UseBrkPntWid)):Math.floor(丕-专.Wse_PcdrLot.c_AlctdW);专.Wse_PcdrLot.c_AlctdW+=丛;业.style.width=丛.toString()+"px";业.Wse_PcdrLot.c_W=丛;业.Wse_PcdrLot.c_CtntW=丛-业.Wse_PcdrLot.c_CssDim.c_BpLtRt;丈(丐,专,业,丙);G.cFor(业.Wse_PcdrLot.c_PutAry,function(东,丝,丞){丄(丐,专,业,丞,丏)})});d(丐,专);var 丗=专.Wse_PcdrLot.c_H-专.Wse_PcdrLot.c_CssDim.c_BpUpDn;G.cFor(专.Wse_PcdrLot.c_ColAry,function(丘,丙,业){var 丛,东,丝,丞=0,丟=业.Wse_PcdrLot.c_Cfg.c_VticAln;if(丟){丛=l(丐,专,业);if(丛<丗){东=丗*丟/100;丝=丛*丟/100;丞=东-丝}}G.cFor(业.Wse_PcdrLot.c_PutAry,function(丠,両,丢){丅(丐,专,业,丢,両,丞);M.scAlnPxl(丢.Wse_PcdrLot.c_TgtArea);万(丐,丏,专,业,丢,両,true)})})})}function 丄(与,丏,丐,丑,丒){var 专=丐.Wse_PcdrLot.c_RowHgts;if(0==专.length){专.push(0)}var 且=丑.Wse_PcdrLot.c_Cfg,丕=且.c_FxdArea,世=丑.Wse_PcdrLot.c_TgtArea,丗=丐.Wse_PcdrLot.c_GridTot,丘=且.c_GridIdx,丙=丘,业=(且.c_GridOfst||0),丛=且.c_GridCnt||丐.Wse_PcdrLot.c_GridTot,东=且.c_HrztAln,丝;if(丕){丑.Wse_PcdrLot.c_ActGridIdx=-1;丑.Wse_PcdrLot.c_ActGridCnt=0;丑.Wse_PcdrLot.c_RowIdx=-1}else{if(且.c_NewRow&&(专[专.length-1]>0)){三(与,丏,丐)}if(丛>丗){丛=丗}丝=E.fIsUdfnOrNull(丙);if(丝&&(!E.fIsUdfnOrNull(东))){if(东<0){丘=0}else if(0==东){丘=Math.floor((丗-丛)/2)}else{丘=(丗-丛)}丙=丘;丝=false}if(丝){丙=与.e_FlowGridNext}else if(丙<与.e_FlowGridNext){丙=与.e_FlowGridNext}if(丙+丛>丗){三(与,丏,丐);丙=丝?0:丘;if(丙+丛>丗){丙=丗-丛}}丙+=业;丑.Wse_PcdrLot.c_ActGridIdx=丙;丑.Wse_PcdrLot.c_ActGridCnt=丛;丑.Wse_PcdrLot.c_RowIdx=专.length-1;与.e_FlowGridNext=丙+丛}var 丞=丑.Wse_PcdrLot.c_Cfg.c_FxdAr,丟=(!!丕)||(!!丞),丠=丑.Wse_PcdrLot.c_CssMgn,両=丐.Wse_PcdrLot.c_BaseGridUnit,丢=丐.Wse_PcdrLot.c_CrntGridUnit,丣=(与.e_UseBrkPntWid?両:丢),两,严=L.cGetCmptStl(丑);L.cGetMgn(丠,丑,严,true);if(丕){M.scAsn(世,丕)}else{世.c_X=丙*丣+f(与,丏,丐);世.c_Y=与.e_FlowRelY+h(与,丏,丐);世.c_W=丛*丣;if(丞){世.c_H=(世.c_W-丠.c_MgnLt-丠.c_MgnRt)/丞}else if(丑.style.height.indexOf("px")>=0){世.c_H=parseFloat(丑.style.height)}else{两=丑.offsetWidth;L.cSetDimWid(丑,世.c_W-丠.c_MgnLt-丠.c_MgnRt);世.c_H=丑.offsetHeight;L.cSetDimWid(丑,两)}世.c_H+=丠.c_MgnUp+丠.c_MgnDn}if(世&&(世.c_H>专[专.length-1])){专[专.length-1]=世.c_H}}function 丅(与,丏,丐,丑,丒,专){if(丑.Wse_PcdrLot.c_RowIdx<0){return}var 且=丑.Wse_PcdrLot.c_TgtArea,丕=丑.Wse_PcdrLot.c_Cfg.c_VticCmpc;if(丕){且.c_Y=丆(与,丏,丐,丑,丒);return}且.c_Y+=专;var 世=丐.Wse_PcdrLot.c_RowHgts,丗=世[丑.Wse_PcdrLot.c_RowIdx],丘,丙,业,丛=丑.Wse_PcdrLot.c_Cfg.c_VticAln;if(丛){if(且.c_H<丗){丘=丗*丛/100;丙=且.c_H*丛/100;业=丘-丙;且.c_Y+=业}}var 东=丑.Wse_PcdrLot.c_Cfg.c_VticOfst;if(东){业=丗*东/100;且.c_Y+=业}}function 丆(与,丏,丐,丑,丒){var 专=丑.Wse_PcdrLot.c_RowIdx;if(0==专){return 丑.Wse_PcdrLot.c_TgtArea.c_Y}var 且=丐.Wse_PcdrLot.c_PutAry,丕=专-1,世,丗=丒-1;for(;丗>=0;--丗){if(且[丗].Wse_PcdrLot.c_RowIdx==丕){break}}for(世=丗-1;世>=0;--世){if(且[世].Wse_PcdrLot.c_RowIdx!=丕){break}}++世;var i=世,丘,丙=0;for(;i<=丗;++i){丘=且[i].Wse_PcdrLot;if(F.cHasOvlp(丘.c_ActGridIdx,丘.c_ActGridIdx+丘.c_ActGridCnt-1,丑.Wse_PcdrLot.c_ActGridIdx,丑.Wse_PcdrLot.c_ActGridIdx+丑.Wse_PcdrLot.c_ActGridCnt-1)){丙=Math.max(丙,丘.c_TgtArea.c_Y+丘.c_TgtArea.c_H)}}return 丙}function 万(与,丏,丐,丑,丒,专,且){var 丕=丒.Wse_PcdrLot.c_Cfg.c_FxdArea,世=丒.Wse_PcdrLot.c_Cfg.c_FxdAr,丗=(!!丕)||(!!世),丘=丒.Wse_PcdrLot.c_CssMgn,丙=丒.Wse_PcdrLot.c_TgtArea,业=丒.Wse_PcdrLot.c_Cfg,丛=N.tEfc||null;if(业.c_Efc){业.c_Efc.cStp(与,丒)}var 东=(!丏)&&(0==丒.Wse_PcdrLot.c_From);if(东){L.cSetPos(丒,丙.c_X,丙.c_Y);L.cSetDimWid(丒,丙.c_W-丘.c_MgnLt-丘.c_MgnRt)}if(丗){L.cSetDimHgt(丒,丙.c_H-丘.c_MgnUp-丘.c_MgnDn)}if((!丛)){return}N.stEfcMgr.cIsuCssAnmt(且,与.e_PutTgt,丒,(东?1:2),丒.Wse_PcdrLot.c_Cfg.c_Efc,与.e_DftEfc,{"left":丙.c_X.toString()+"px","top":丙.c_Y.toString()+"px","width":(丙.c_W-丘.c_MgnLt-丘.c_MgnRt).toString()+"px","height":丗?((丙.c_H-(丘.c_MgnUp+丘.c_MgnDn)).toString()+"px"):undefined},null)}function 丈(与,丏,丐,丑){m(与,丏,丐,丑);与.e_FlowGridNext=0;与.e_FlowRelY=0;if(丐.Wse_PcdrLot.c_RowHgts.length>0){丐.Wse_PcdrLot.c_RowHgts.length=0}}function 三(与,丏,丐){var 丑=丐.Wse_PcdrLot.c_RowHgts;与.e_FlowGridNext=0;与.e_FlowRelY+=丑[丑.length-1];丑.push(0)}function 上(与){var 丏=K.cQryAll("#"+与.cAcsPutTgt().id+" *[data-Wse_ImgSrc]");G.cFor(丏,function(丑,丒,专){var 且=与.cCtanPut(专)?专.getAttribute("data-Wse_ImgSrc"):null,丕=且?且.lastIndexOf("."):-1;if(丕<0){return}if(与.e_BrkPntIdx>0){且=H.cIst(且,丕,"_L"+与.e_BrkPntIdx.toString())}且=且.toLowerCase();if(专.Wse_PcdrLot&&(专.Wse_PcdrLot.c_ImgSrc==且)){return}var 世=null,丗=下(与,且,true);if(丗<0){世=new Image();世.onerror=function(){var 丘;if(与.e_ImgSrcRgtr.length>0){丘=下(与,世,false);与.e_ImgSrcRgtr.splice(丘,1)}世.onerror=null;世.onload=null};世.onload=function(){function 丘(){var 丙=下(与,世,false);丐(丙);与.e_ImgSrcRgtr.splice(丙,1)}if(与.e_ImgSrcRgtr.length>0){if(E.fIsAsynDly()){与.e_TmrIdAry.push(setTimeout(丘,E.g_AsynDly*1000))}else{丘()}}世.onerror=null;世.onload=null};与.e_ImgSrcRgtr.push({c_Img:世,c_Src:且,c_DomElmts:[专]});世.src=且}else{与.e_ImgSrcRgtr[丗].c_DomElmts.push(专)}});function 丐(丑){var 丒=丐.Wse_ImgSrcRgtr,专=丐.Wse_BrkPntIdx;if((丒!==与.e_ImgSrcRgtr)||(专!=与.cGetBrkPntIdx())){return}var 且=与.e_ImgSrcRgtr[丑];if(!且){return}var 丕=false;G.cFor(且.c_DomElmts,function(世,丗,丘){var 丙,业;if(!丘.Wse_PcdrLot){丘.Wse_PcdrLot={}}if("IMG"==丘.tagName){丙=丘.Wse_PcdrLot.c_ImgAr;丘.src=且.c_Src}else{丙=丘.Wse_PcdrLot.c_ImgAr;丘.style.backgroundImage='url("'+且.c_Src+'")'}业=(且.c_Img.height>0)?(且.c_Img.width/且.c_Img.height):null;丘.Wse_PcdrLot.c_ImgAr=业;if((!丕)&&丙&&业){if(!F.cEq(丙,业,0.05)){丕=true}}if(!丘.Wse_PcdrLot){丘.Wse_PcdrLot={}}丘.Wse_PcdrLot.c_ImgSrc=且.c_Src});if(丕){与.cRfl()}}丐.Wse_ImgSrcRgtr=与.e_ImgSrcRgtr;丐.Wse_BrkPntIdx=与.cGetBrkPntIdx()}function 下(与,丏,丐){return G.cFind(与.e_ImgSrcRgtr,function(丑,丒,专){return 丐?(专.c_Src==丏):(专.c_Img===丏)})}function 丌(与,丏,丐,丑,丒){丐=丐||"rgba(128, 128, 128, 0.4)";丑=丑||"rgba(192, 192, 192, 0.4)";丒=E.fIsUdfnOrNull(丒)?999998:丒;var 专=K.cAcsBody(),且;if(丏){if(document.getElementById("uok_GridBarSet")){丕()}且=document.createElement("div");且.id="uok_GridBarSet";G.cFor(与.e_BoaAry,function(丗,丘,丙){G.cFor(丙.Wse_PcdrLot.c_ColAry,function(业,丛,东){世(与,丙,东)})})}else{丕()}function 丕(){var 丗=document.getElementById("uok_GridBarSet");if(!丗){return}专.removeChild(丗)}function 世(丗,丘,丙){var 业=丙.Wse_PcdrLot.c_CssDim,丛=丙.Wse_PcdrLot.c_CtntW,东=丛,丝=丙.getBoundingClientRect(),丞=丙.Wse_PcdrLot.c_GridTot,丟=东/丞,丠=0,両=(丟).toString()+"px",丢=null,丣=null,两=0;for(;两<丞;++两){丢=document.createElement("div");丢.className="cnWse_tPcdrLot_GridBar";丢.style.zIndex=丒.toString();丢.style.left=(丝.left+业.c_BpLt+两*丟).toString()+"px";丢.style.top=(丝.top+业.c_BpUp).toString()+"px";丢.style.width=(两<丞-1)?両:(Math.floor(东-丠+0.5).toString()+"px");丢.style.height=(丝.height-业.c_BpUpDn).toString()+"px";丢.style.backgroundColor=((1+两)%2)?丐:丑;if(0==两){E.tClo.scRand(丌.Wse_RandClo);丌.Wse_RandClo.a=1;丣=E.tClo.scToCssCloStr(丌.Wse_RandClo);丢.style.borderLeft="1px solid "+丣}if(两==丞-1){丢.style.borderRight="1px solid "+丣}且.appendChild(丢);丠+=丟}专.appendChild(且)}}丌.Wse_RandClo=new E.tClo();var 不;(function(){不=E.fClass(N,function tPcdrLot(){this.cRset()},null,{cRset:function(){u(this);this.e_Cfg=null;this.e_PutTgt=null;this.e_PutSrc=null;this.e_WidPct=null;this.e_MinWid=128;this.e_MaxWid=Number.MAX_VALUE;this.e_MinHgt=null;this.e_BrkPntIdx=-1;this.e_UseBrkPntWid=false;this.e_Rsn=null;this.e_DurCabk=false;this.e_PrnWidWhenRunBgn=0;this.e_RunCnt=0;this.e_RunAgn=false;this.e_DftEfc=null;this.e_ShowGrid=false;this.e_fOnWndScrl=null;return this},cPlan:function(与){if(this.e_Cfg){this.cRset()}if(!与){return this}this.e_Cfg=与;this.e_PutSrc=document.getElementById(与.c_PutSrc);if(!this.e_PutSrc){throw new Error("c_PutSrc无效！")}this.e_PutTgt=document.getElementById(与.c_PutTgt);if(!this.e_PutTgt){throw new Error("c_PutTgt无效！")}this.e_WidPct=与.c_WidPct||null;this.e_MinWid=与.c_MinWid||128;this.e_MaxWid=与.c_MaxWid||Number.MAX_VALUE;this.e_MinHgt=与.c_MinHgt||null;L.cAddCssc(this.e_PutTgt,"cnWse_PutTgt");L.cAddCssc(this.e_PutSrc,"cnWse_PutSrc");return this},cRun:function(){if(!this.e_PutTgt){throw new Error("cRun()之前必须调用cPlan()！")}丁(this,false);return this},cRfl:function(){if(0==this.e_BoaAry.length){return this.cRun()}丁(this,true);return this},cAcsPutTgt:function(){return this.e_PutTgt||null},cGetPutTgtWid:function(){return this.e_PutTgt?this.e_PutTgt.clientWidth:0},cGetPutTgtHgt:function(){return this.e_PutTgt?this.e_PutTgt.clientHeight:0},cGetBrkPntIdx:function(){return this.e_BrkPntIdx},cGetBrkPntWid:function(与){与=E.fIsUdfnOrNull(与)?this.e_BrkPntIdx:与;return F.cClmOnNum(this.e_Cfg.c_BrkPnts[与],this.e_MinWid,this.e_MaxWid)},cTheUseBrkPntWid:function(与){if(0==arguments.length){return this.e_UseBrkPntWid}this.e_UseBrkPntWid=!!与;return this},cGetRsn:function(){return this.e_Rsn},cBoa:function(与){if(!this.e_DurCabk){throw new Error("cBoa()只能在断点回调函数里调用！")}if(!与.c_Id){throw new Error("板的c_Id无效！")}var 丏=S(this,与,"cnWse_tPcdrLot_Boa",null,"section");丏.Wse_PcdrLot.c_Cfg=与;丏.Wse_PcdrLot.c_ColAry=[];丏.Wse_PcdrLot.c_CssDim={};丏.Wse_PcdrLot.c_Y=0;丏.Wse_PcdrLot.c_H=0;丏.Wse_PcdrLot.c_AlctdW=0;U(this,丏,与);this.e_BoaAry.push(丏);return this},cCol:function(与){var 丏=V(this);E.fAst(丏,"cCol()只能在cBoa()之后调用！");if(丏.Wse_PcdrLot.c_ColAry.length==丏.Wse_PcdrLot.c_ColDvd.length){return this}var 丐=丏.Wse_PcdrLot.c_ColAry.length,丑=与.c_Id||(丏.id+"_Col"+丐.toString()),丒=(E.fIsUdfnOrNull(与.c_GridTot)||(与.c_GridTot<1))?1:与.c_GridTot,专=丏.Wse_PcdrLot.c_ColDvd[丐],且=S(this,与,"cnWse_tPcdrLot_Col",丑,"div");且.Wse_PcdrLot.c_Cfg=与;且.Wse_PcdrLot.c_GridTot=丒;且.Wse_PcdrLot.c_CssDim={};且.Wse_PcdrLot.c_RowHgts=[];且.Wse_PcdrLot.c_PutAry=[];丏.Wse_PcdrLot.c_ColAry.push(且);return this},cPut:function(与){var 丏=V(this),丐=W(this);E.fAst(丏&&丐,"cPut()只能在cCol()之后调用！");if(!与.c_Id){throw new Error("c_Id必需有效！")}if(this.e_PutIdRgtr[与.c_Id]){return this}var 丑=T(this,与.c_Id);if(!丑){throw new Error("未能获取“id="+与.c_Id+"”的元素！")}this.e_PutIdRgtr[与.c_Id]=true;var 丒=丑.Wse_PcdrLot.c_Cfg&&丑.Wse_PcdrLot.c_Cfg.c_Cssc;if(丒){L.cRmvCssc(丑,丒)}丑.Wse_PcdrLot.c_Cfg=与;if(!丑.Wse_PcdrLot.c_TgtArea){丑.Wse_PcdrLot.c_CssMgn={};丑.Wse_PcdrLot.c_TgtArea=new M()}丑.style.display="block";丑.style.position="absolute";L.cAddCssc(丑,"cnWse_tPcdrLot_Put");if(与.c_Cssc){L.cAddCssc(丑,与.c_Cssc)}丐.Wse_PcdrLot.c_PutAry.push(丑);return this},cOver:function(){return this},cRmvAllPuts:function(与,丏){if(this.e_PutTgt){t(this,与,丏)}return this},cClnPutTgt:function(){if(this.e_PutTgt){u(this)}return this},cAcsDftEfc:function(){if((!this.e_DftEfc)&&N.tEfc){this.e_DftEfc=new N.tEfc(null)}return this.e_DftEfc},cCtanPut:function(与){与=E.fIsStr(与)?document.getElementById(与):与;if(!与){return false}var 丏=this.e_BoaAry,丐=0,丑=丏.length,丒,专,且;for(;丐<丑;++丐){丒=丏[丐].Wse_PcdrLot.c_ColAry;专=0;且=丒.length;for(;专<且;++专){if(丒[专].Wse_PcdrLot.c_PutAry.indexOf(与)>=0){return true}}}return false},cShowHideGridUi:function(与){function 丏(丑){var 丒=document.getElementById("ok_ShowGrid");if(!丒){return this}K.cAcsBody().removeChild(丒);return this}function 丐(丑){var 丒=document.getElementById("ok_ShowGrid");if(丒){return this}丒=document.createElement("div");丒.id="ok_ShowGrid";var 专=document.createElement("input");专.id="ok_ShowGridChkBox";专.type="checkbox";专.title="控制栅格的显示";丒.appendChild(专);var 且=document.createTextNode("显示栅格");丒.appendChild(且);专.onchange=function(丕){丑.cShowHideGrid(丕.target.checked)};K.cAcsBody().appendChild(丒)}与?丐(this):丏(this);return this},cShowHideGrid:function(与){if(this.e_ShowGrid==与){if(与){丌(this,与)}return this}if(与&&(!this.e_fOnWndScrl)){this.e_fOnWndScrl=J.cBindThis(this,function(){if(this.e_ShowGrid){丌(this,true)}})}if(this.e_fOnWndScrl){与?K.cAddEvtHdlr_WndScrl(this.e_fOnWndScrl,0.1):K.cRmvEvtHdlr_WndScrl(this.e_fOnWndScrl)}this.e_ShowGrid=与;丌(this,与);return this}},{scAcsPutTgtArea:function(与){return(与.Wse_PcdrLot&&与.Wse_PcdrLot.c_TgtArea)||null},scGetPutRowIdx:function(与){return(与.Wse_PcdrLot&&与.Wse_PcdrLot.c_RowIdx)}},false)})()}})();