(function(){var i_InNodeJs = ("undefined" == typeof self);var l_Glb = i_InNodeJs ? global : self;l_Glb.nWse.stAsynIcld.cPreLoad("nWse:nUi", ["(0)Plmvc.js","EfcMgr.js","Wgt.js","Frmwk.js","PcdrLot.js"]);})();(function(){var A=("undefined"==typeof self),B=A?global:self;if(B.nWse&&B.nWse.nUi){return}B.nWse.stAsynIcld.cFromLib("nWse:nUi",["nWse:DomUtil.js","nWse:CssUtil.js"],C);function C(D){console.log("(0)Plmvc.fOnIcld："+D);var E=B.nWse,F=E.stNumUtil,G=E.stStrUtil,H=E.stAryUtil,I=E.stDomUtil,J=E.stCssUtil,K=E.fNmspc(E,function nUi(){}),L=E.fNmspc(K,function unKnl(){});L.fObtnPutSrc=function(N){var O=N?document.getElementById(N):null;if(!O){return null}if(!O.Wse_PutSrc){O.Wse_PutSrc={}}O.Wse_PutSrc.c_OrigCssc=O.className;J.cAddCssc(O,"cnWse_PutSrc");return O};L.fAbdnPutSrc=function(N){if(!N.Wse_PutSrc){return}N.className=N.Wse_PutSrc.c_OrigCssc;N.Wse_PutSrc=null};L.fObtnPutTgt=function(N,O,P){var Q=null;if(N){Q=document.getElementById(N)}if((!Q)&&P){Q=I.cQryOne("#"+O.id+P);Q.id=N}if((!Q)){Q=document.createElement("div");Q.id=N;O.parentNode.insertBefore(Q,O)}if(!Q.Wse_PutTgt){Q.Wse_PutTgt={}}Q.Wse_PutTgt.c_OrigCssc=Q.className;J.cAddCssc(Q,"cnWse_PutTgt");return Q};L.fAbdnPutTgt=function(N){if(!N.Wse_PutTgt){return}N.className=N.Wse_PutTgt.c_OrigCssc;N.Wse_PutTgt=null};L.fIsPutInTgt=function(N,O){return(N===O.parentNode)};L.fPutToTgt=function(N,O,P,Q,R){if(N===P.parentNode){return}if(R&&(!I.cIsAcst(O,P))){throw new Error("“"+P.id+"”不是“"+O.id+"”的后代节点！")}if(!P.Wse_Put){P.Wse_Put={}}P.Wse_Put.c_OrigPrn=P.parentNode;Q?N.insertBefore(P,Q):N.appendChild(P)};function M(N,O){return(O.Wse_Put&&O.Wse_Put.c_OrigPrn)||N}L.fIsPutInSrc=function(N,O){var P=M(N,O);return(P===O.parentNode)};L.fRtnToSrc=function(N,O,P,Q,R){var S=M(O,P);if(S===P.parentNode){return}if(R&&(!I.cIsAcst(N,P))){throw new Error("“"+P.id+"”不是“"+N.id+"”的后代节点！")}Q?S.insertBefore(P,Q):S.appendChild(P)};L.fClnPutTgt=function(N,O){var P=N,Q=P.childNodes,n=0,R=Q.length;for(;n<R;++n){if(Q[n].Wse_Put&&Q[n].Wse_Put.c_OrigPrn){L.fRtnToSrc(N,O,Q[n],null,false);--n;--R}}};K.fRegPutEvtHdlr=function(N,O,P){if(!N.Wse_Put){N.Wse_Put={}}if(!N.Wse_Put.c_EvtSys){N.Wse_Put.c_EvtSys={}}if(!N.Wse_Put.c_EvtSys[O]){N.Wse_Put.c_EvtSys[O]=new E.tEvtHdlrAry()}if(N.Wse_Put.c_EvtSys[O].cFind(P)<0){N.Wse_Put.c_EvtSys[O].cReg(P)}};K.fUrgPutEvtHdlr=function(N,O,P){if((!N.Wse_Put)||(!N.Wse_Put.c_EvtSys)||(!N.Wse_Put.c_EvtSys[O])||(N.Wse_Put.c_EvtSys[O].cFind(P)<0)){return}N.Wse_Put.c_EvtSys[O].cUrg(P)};K.fHasPutEvtHdlr=function(N,O){if((!N.Wse_Put)||(!N.Wse_Put.c_EvtSys)||(!N.Wse_Put.c_EvtSys[O])){return false}return!N.Wse_Put.c_EvtSys[O].cIsEmt()};K.fTrgrPutEvt=function(N,O,P){if((!N.Wse_Put)||(!N.Wse_Put.c_EvtSys)||(!N.Wse_Put.c_EvtSys[O])){return}N.Wse_Put.c_EvtSys[O].cFor.apply(N.Wse_Put.c_EvtSys[O],P)}}})();(function(){var A=("undefined"==typeof self),B=A?global:self;if(B.nWse&&B.nWse.nUi&&B.nWse.nUi.stEfcMgr){return}B.nWse.stAsynIcld.cFromLib("nWse:nUi",["(0)Plmvc.js"],C);function C(D){console.log("EfcMgr.fOnIcld："+D);var E=B.nWse,F=E.stNumUtil,G=E.stAryUtil,H=E.stObjUtil,I=E.stDomUtil,J=E.stCssUtil,K=E.nUi;function L(O,P,Q,R,S,T,U,V){var W=S-U,X=T-V,Y=S-O,Z=T-P,a=F.cDet_2o(Q,W,R,X);if(0==a){return null}var b=F.cDet_2o(Y,W,Z,X);return b/a}var M;(function(){M=E.fClass(K,function tEfc(O,P){this.c_fStp=O;this.c_StpOnce=!!P},null,{cClrItems:function(){if(this.c_CssEntBgn){this.c_CssEntBgn=null}if(this.c_CssEntEnd){this.c_CssEntEnd=null}if(this.c_CssEntCln){this.c_CssEntCln=null}if(this.c_CssLeaEnd){this.c_CssLeaEnd=null}if(this.c_CssLeaCln){this.c_CssLeaCln=null}if(this.c_fOnEntBgn){this.c_fOnEntBgn=null}if(this.c_fOnEntEnd){this.c_fOnEntEnd=null}if(this.c_fOnRflBgn){this.c_fOnRflBgn=null}if(this.c_fOnRflEnd){this.c_fOnRflEnd=null}if(this.c_fOnLeaBgn){this.c_fOnLeaBgn=null}if(this.c_fOnLeaEnd){this.c_fOnLeaEnd=null}return this},cSetUniDur:function(O){O=O||1;this.c_EntDur=O;this.c_RflDur=O;this.c_LeaDur=O;return this},cSetUniEsn:function(O){O=O||null;this.c_fEntEsn=O;this.c_fRflEsn=O;this.c_fLeaEsn=O;return this},cSetUniMove:function(O){O=O||null;this.c_fEntMove=O;this.c_fRflMove=O;this.c_fLeaMove=O;return this},cAcsAry:function(O){if(!this[O]){this[O]=[]}return this[O]},cStp:function(O,P){if((!this.c_fStp)||(this.c_StpOnce&&this.c_fStp.Wse_Called)){return this}this.cClrItems();this.c_fStp(this,O,P);this.c_fStp.Wse_Called=true;return this}},{seUseFld:function(O,P,Q){if(!O){return null}if(P&&(!E.fIsUdfn(P[O]))){return P[O]}return(Q&&(!E.fIsUdfn(Q[O])))?Q[O]:null},seAccStl:function(O,P,Q,R,S){if(!O){return null}var T=M.seUseFld(O,P,Q);if(G.cIsEmt(T)){return null}var U={};G.cFor(T,function(V,W,X){X(U,R,S)});return U}},false)})();var N;(function(){N=function(){};K.stEfcMgr=N;N.oc_nHost=K;N.oc_FullName=K.ocBldFullName("stEfcMgr");N.ocBldFullName=function(W){return N.oc_FullName+"."+W};var O=null,P=4;function Q(W){return O.cAcsAry(W)}function R(W){return W.toString()+"px"}function S(W){return Math.min(window.innerWidth,W.offsetWidth)}function T(W){return Math.min(window.innerHeight,W.offsetHeight)}function U(W,X){return function(Y,Z,a){Y["opacity"]=E.fIsUdfnOrNull(W)?X:W}}N.cIsuCssAnmt=function(W,X,Y,Z,a,b,c,d){if(!Z){throw new Error("a_Which有误！")}var e=(1==Z)?"c_fOnEntBgn":((2==Z)?"c_fOnRflBgn":"c_fOnLeaBgn");V(e,a,b,[X,Y]);var f=(1==Z)?"c_CssLeaCln":((2==Z)?"c_CssLeaCln":"c_CssEntCln"),g=(1==Z)?"c_CssEntEnd":((2==Z)?null:"c_CssLeaEnd"),h=H.cShlwAsn({},M.seAccStl(f,a,b,X,Y),M.seAccStl(g,a,b,X,Y),c);function i(){if(d){d()}var m=(1==Z)?"c_CssEntCln":((2==Z)?"c_CssEntCln":"c_CssLeaCln"),n=M.seAccStl(m,a,b,X,Y);if(n){J.cSetStl(Y,n)}var o=(1==Z)?"c_fOnEntEnd":((2==Z)?"c_fOnRflEnd":"c_fOnLeaEnd");V(o,a,b,[X,Y]);K.fTrgrPutEvt(Y,"AnmtEnd",null)}if((!W)){J.cSetStl(Y,h);i();return}if(1==Z){J.cSetStl(Y,M.seAccStl("c_CssEntBgn",a,b,X,Y))}var j=(1==Z)?"c_EntDur":((2==Z)?"c_RflDur":"c_LeaDur"),k=(1==Z)?"c_fEntEsn":((2==Z)?"c_fRflEsn":"c_fLeaEsn"),l=(1==Z)?"c_fEntMove":((2==Z)?"c_fRflMove":"c_fLeaMove");J.cAnmt(Y,h,{c_Dur:M.seUseFld(j,a,b),c_fEsn:M.seUseFld(k,a,b),c_fMove:M.seUseFld(l,a,b),c_fOnUpd:K.fHasPutEvtHdlr(Y,"AnmtUpd")&&function(m,n,o,p,q,r){K.fTrgrPutEvt(Y,"AnmtUpd",arguments)},c_fOnEnd:i})};function V(W,X,Y,Z){var a=M.seUseFld(W,X,Y);if(a){a.apply(null,Z)}}N.cBind=function(W){N.cUbnd();O=W;return N};N.cUbnd=function(){O=null;return N};N.cCssEntBgn_FromLt=function(){Q("c_CssEntBgn").push(function(W,X,Y){W["left"]=R(-P-Y.offsetWidth)});return N};N.cCssEntBgn_FromHc=function(){Q("c_CssEntBgn").push(function(W,X,Y){W["left"]=R((S(X)-Y.offsetWidth)/2)});return N};N.cCssEntBgn_FromRt=function(){Q("c_CssEntBgn").push(function(W,X,Y){W["left"]=R(S(X)+P)});return N};N.cCssEntBgn_FromUp=function(){Q("c_CssEntBgn").push(function(W,X,Y){W["top"]=R(-P-Y.offsetHeight)});return N};N.cCssEntBgn_FromVc=function(){Q("c_CssEntBgn").push(function(W,X,Y){W["top"]=R((T(X)-Y.offsetHeight)/2)});return N};N.cCssEntBgn_FromDn=function(){Q("c_CssEntBgn").push(function(W,X,Y){W["top"]=R(T(X)+P)});return N};N.cCssEntBgn_Aph=function(W){Q("c_CssEntBgn").push(U(W,0));return N};N.cCssEntEnd_Aph=function(W){Q("c_CssEntEnd").push(U(W,1));return N};N.cCssLeaEnd_ToLt=function(){Q("c_CssLeaEnd").push(function(W,X,Y){W["left"]=R(-P-Y.offsetWidth)});return N};N.cCssLeaEnd_ToHc=function(){Q("c_CssLeaEnd").push(function(W,X,Y){W["left"]=R((S(X)-Y.offsetWidth)/2)});return N};N.cCssLeaEnd_ToRt=function(){Q("c_CssLeaEnd").push(function(W,X,Y){W["left"]=R(S(X)+P)});return N};N.cCssLeaEnd_ToUp=function(){Q("c_CssLeaEnd").push(function(W,X,Y){W["top"]=R(-P-Y.offsetHeight)});return N};N.cCssLeaEnd_ToVc=function(){Q("c_CssLeaEnd").push(function(W,X,Y){W["top"]=R((T(X)-Y.offsetHeight)/2)});return N};N.cCssLeaEnd_ToDn=function(){Q("c_CssLeaEnd").push(function(W,X,Y){W["top"]=R(T(X)+P)});return N};N.cCssLeaEnd_Aph=function(W){Q("c_CssLeaEnd").push(U(W,0));return N};N.cCssLeaCln_Aph=function(W){Q("c_CssLeaCln").push(U(W,1));return N};N.cCssEnt_From=function(W,X){var Y=W?("cCssEntBgn_From"+W):null,Z=X?("cCssEntBgn_From"+X):null;if(Y){N[Y]()}if(Z){N[Z]()}return N};N.cCssLea_To=function(W,X){var Y=W?("cCssLeaEnd_To"+W):null,Z=X?("cCssLeaEnd_To"+X):null;if(Y){N[Y]()}if(Z){N[Z]()}return N};N.cCssEntLea_FromTo=function(W,X,Y,Z){N.cCssEnt_From(W,X).cCssLea_To((Y||W),(Z||X));return N};N.cCssEnt_FadeIn=function(W,X){N.cCssEntBgn_Aph(W).cCssEntEnd_Aph(X);return N};N.cCssLea_FadeOut=function(W,X){N.cCssLeaEnd_Aph(W).cCssLeaCln_Aph(X);return N};N.cCssEntLea_Fade=function(W,X,Y,Z){N.cCssEnt_FadeIn(W,X).cCssLea_FadeOut(Y,Z);return N};N.cGetTgtAreaCenX=function(W){return W.c_X+W.c_W/2};N.cGetTgtAreaCenY=function(W){return W.c_Y+W.c_H/2};N.cPushToScrnEdge=function(W,X,Y,Z,a,b){var c,d,e,f,g,h,i;d=L(X,Y,Z,a,0,0,0,window.innerHeight);e=L(X,Y,Z,a,window.innerWidth,0,window.innerWidth,window.innerHeight);f=L(X,Y,Z,a,0,0,window.innerWidth,0);g=L(X,Y,Z,a,0,window.innerHeight,window.innerWidth,window.innerHeight);if(d||e||f||g){c=(d>0)?d:Math.max(d,e,f,g);c=(e>0)?Math.min(c,e):c;c=(f>0)?Math.min(c,f):c;c=(g>0)?Math.min(c,g):c;h=X+c*Z;i=Y+c*a;if(c==d){W.c_X=b?(h):(h-W.c_W);W.c_Y=i-W.c_H/2}else if(c==e){W.c_X=b?(h-W.c_W):(h);W.c_Y=i-W.c_H/2}else if(c==f){W.c_X=h-W.c_W/2;W.c_Y=b?(i):(i-W.c_H)}else{W.c_X=h-W.c_W/2;W.c_Y=b?(i-W.c_H):(i)}}else{h=X;i=Y;W.c_X=h;W.c_Y=i}return W}})()}})();(function(){var A=("undefined"==typeof self),B=A?global:self;if(B.nWse&&B.nWse.nUi&&B.nWse.nUi.tWgt){return}B.nWse.stAsynIcld.cFromLib("nWse:nUi",["(0)Plmvc.js","nWse:PntIptTrkr.js"],C);function C(D){console.log("Wgt.fOnIcld："+D);var E=B.nWse,F=E.stNumUtil,G=E.stStrUtil,H=E.stAryUtil,I=E.stDomUtil,J=E.stCssUtil,K=E.tSara,L=E.tPntIptTrkr,M=L.tPntIpt,N=M.tKind,O=M.tTch,P=E.nUi,Q=P.unKnl,R=null;function S(Z,a){var b=Q.fObtnPutSrc(a.c_PutSrc);if(!b.Wse_Wgt){b.Wse_Wgt={}}b.Wse_Wgt.c_Wgt=Z;return b}function T(Z,a,b){var c=Q.fObtnPutTgt(a.c_PutTgt,b,W.sd_PutTgtSlc);W.sd_PutTgtSlc="";if(!c.Wse_Wgt){c.Wse_Wgt={}}c.Wse_Wgt.c_Wgt=Z;return c}function U(Z){Q.fClnPutTgt(Z.d_PutTgt,Z.d_PutSrc)}function V(Z,a){Z.d_DmntTchId=a||null}var W,X,Y;(function(){W=E.fClass(P,function tWgt(){var Z=this;this.d_Cfg=null;this.d_PutSrc=null;this.d_PutTgt=null;this.d_PutSrcOrigCssc=null;this.d_PutTgtOrigCssc=null},null,{vcBind:function f(Z){var a=this;if(a.d_PutSrc){a.vcUbnd()}if(!Z){return this}a.d_Cfg=Z;var b=S(a,Z);if(!b){throw new Error("c_PutSrc无效！")}var c=T(a,Z,b);a.d_PutSrc=b;a.d_PutTgt=c;J.cAddCssc(a.d_PutTgt,"cnWse_tWgt_Nml");return this},vcUbnd:function f(){var Z=this;if(Z.d_PutTgt){if(Z.d_PutTgt.Wse_Wgt){Z.d_PutTgt.Wse_Wgt=null}Q.fAbdnPutTgt(Z.d_PutTgt);Z.d_PutTgt=null}if(Z.d_PutSrc){if(Z.d_PutSrc.Wse_Wgt){Z.d_PutSrc.Wse_Wgt=null}Q.fAbdnPutSrc(Z.d_PutSrc);Z.d_PutSrc=null}Z.d_Cfg=null;return this},vcSrlz:function f(Z){return Z},vcFnshAnmt:function f(){var Z=this;return this},vcRfshBefLot:function f(){var Z=this;return this},vcRfshAftLot:function f(){var Z=this;return this},vcPick:function f(Z){var a=this;if(!a.d_PutTgt){return this}var b=Z.cAcsBbox(),c=Z.cAcs2dCtxt(),d=Z.cAcs2dPath();Z.cPickBgn(this);var e=W.sd_PutTgtBdrRds;J.cGetBdrRds(W.sd_PutTgtBdrRds,a.d_PutTgt);if(!R){R=new Array(4)}R[0]=e.c_BdrRdsLtUp;R[1]=e.c_BdrRdsRtUp;R[2]=e.c_BdrRdsRtDn;R[3]=e.c_BdrRdsLtDn;d.cRset().cRcRect(false,b.c_X,b.c_Y,b.c_W,b.c_H,R);c.cAcs().fillStyle="rgba(255, 255, 255, 1)";c.cDrawPath(d);Z.cPickEnd(this);if(Z.cIsOver()){return this}return this},vcIptRset:function f(){V(this,null);return this},vcHdlIpt:function f(Z){var a=this,b;if(a.d_DmntTchId){b=Z.cFindTchById(a.d_DmntTchId);if(b<0){V(a,null);return}}else{b=Z.cFindTchByPkdWgt(this);if(b<0){if(Z.cHasTchOfKind(N.i_TchBgn)){P.stFrmwk.cRmvFocs(a)}return}V(a,Z.c_Tchs[b].c_TchId)}a.vdHdlIptFromDmntTch(Z,b,Z.c_Tchs[b]);return this},vdHdlIptFromDmntTch:function f(Z,a,b){var c=this;if(c.dIsTchLostOrEnd(b)){c.vcIptRset();b.c_Hdld=true}if(c.dIsTchBgn(b)){c.dRplcCsscForPutTgt("cnWse_tWgt_Nml","cnWse_tWgt_Tch",true)}else if(c.dIsTchLostOrEnd(b)){c.dRplcCsscForPutTgt("cnWse_tWgt_Tch","cnWse_tWgt_Nml",true)}return this},vcGainFoc:function f(){return this},vcLoseFoc:function f(){return this},cRfsh:function(){return P.stFrmwk.cIsDurLot()?this:this.vcRfshBefLot().vcRfshAftLot()},dIsTchBgn:function(Z){return(N.i_TchBgn==Z.c_Kind)},dIsTchLost:function(Z){return(N.i_TchLost==Z.c_Kind)},dIsTchEnd:function(Z){return(N.i_TchEnd==Z.c_Kind)},dIsTchLostOrEnd:function(Z){return this.dIsTchLost(Z)||this.dIsTchEnd(Z)},cClnPutTgt:function f(){if(!this.d_PutTgt){return this}var Z=this;U(Z);return this},cAcsPutSrc:function(){return this.d_PutSrc},cAcsPutTgt:function(){return this.d_PutTgt},cGetPutTgtWid:function(){return this.d_PutTgt?this.d_PutTgt.clientWidth:0},cGetPutTgtHgt:function(){return this.d_PutTgt?this.d_PutTgt.clientHeight:0},dGnrtQrySlc_PutSrc:function(){return this.d_PutSrc?("#"+this.d_PutSrc.id):""},dGnrtQrySlc_PutTgt:function(){return this.d_PutTgt?("#"+this.d_PutTgt.id):""},dAcsDomNodeByAttr:function(Z){var a=I.cQryOne(this.dGnrtQrySlc_PutSrc()+">[data-"+Z+"]");if(!a){a=I.cQryOne(this.dGnrtQrySlc_PutTgt()+">[data-"+Z+"]")}return a},dGetDomNodesByAttr:function(Z,a){var b=a?this.dGnrtQrySlc_PutTgt():this.dGnrtQrySlc_PutSrc(),c=I.cQryAll(b+">[data-"+Z+"]");return c},dIsPutInTgt:function(Z){return Q.fIsPutInTgt(this.d_PutTgt,Z)},dIsPutInSrc:function(Z){return Q.fIsPutInSrc(this.d_PutSrc,Z)},dPutToTgt:function(Z,a){Q.fPutToTgt(this.d_PutTgt,this.d_PutSrc,Z,a,true);return this},dRtnToSrc:function(Z,a){Q.fRtnToSrc(this.d_PutTgt,this.d_PutSrc,Z,a,true);return this},dRplcCsscForPutTgt:function(Z,a,b){J.cRplcCssc(this.d_PutTgt,Z,a,b);return this},dIsSelfOrDsdtOfPutTgt:function(Z){return I.cIsSelfOrAcst(this.d_PutTgt,Z)},dCalcPutTgtBbox:function(Z){return Z.cCrt(0,0,this.d_PutTgt.offsetWidth,this.d_PutTgt.offsetHeight)},dGetPutTgtWid:function(){var Z=P.stFrmwk.cAcsTgtAreaOfPut(this.d_PutTgt);return Z?Z.c_W:0},dGetPutTgtCtntWid:function(){var Z=P.stFrmwk.cAcsTgtAreaOfPut(this.d_PutTgt);if(!Z){return 0}var a=W.sd_PutTgtBdrThk,b=W.sd_PutTgtPad;J.cGetBdrThk(a,this.d_PutTgt);J.cGetPad(b,this.d_PutTgt);var c=Z.c_W-a.c_BdrThkLt-a.c_BdrThkRt-b.c_PadLt-b.c_PadRt;return Math.max(c,0)},dClrPutTgtCssHgt:function(){if(this.d_PutTgt&&this.d_PutTgt.style.height){this.d_PutTgt.style.height=""}return this},dRegPutTgtEvtHdlr_OnWidDtmnd:function(Z){P.fRegPutEvtHdlr(this.d_PutTgt,"WidDtmnd",Z);return this},dUrgPutTgtEvtHdlr_OnWidDtmnd:function(Z){P.fUrgPutEvtHdlr(this.d_PutTgt,"WidDtmnd",Z);return this},dRegPutTgtEvtHdlr_OnAnmtUpdEnd:function(Z){P.fRegPutEvtHdlr(this.d_PutTgt,"AnmtUpd",Z);P.fRegPutEvtHdlr(this.d_PutTgt,"AnmtEnd",Z);return this},dUrgPutTgtEvtHdlr_OnAnmtUpdEnd:function(Z){P.fUrgPutEvtHdlr(this.d_PutTgt,"AnmtUpd",Z);P.fUrgPutEvtHdlr(this.d_PutTgt,"AnmtEnd",Z);return this},dGetKeyOfSrlz:function(){return this.d_PutSrc?(this.d_PutSrc.name||this.d_PutSrc.id):""},dChkKeyOnSrlz:function(Z,a){if(!a){a=this.dGetKeyOfSrlz()}if(a in Z){throw new Error("tWgt序列化时遇到键冲突：“"+a+"”！")}return a}},{sd_PutTgtSlc:"",sd_PutTgtBdrThk:{},sd_PutTgtBdrRds:{},sd_PutTgtPad:{}},false)})();(function(){X=E.fClass(P,function tWgtSet(){this.cRset()},null,{cRset:function(){this.e_Wgts=[];return this},cAcsWgts:function(){return this.e_Wgts},cGetAmt:function(){return this.e_Wgts.length},cClr:function(){this.e_Wgts.length=0;return this},cFindByPutSrcId:function(Z){if(!Z){return-1}var a=this;return H.cFind(a.e_Wgts,function(b,c,d){return(d.d_PutSrc&&(d.d_PutSrc.id==Z))})},cAcsByIdx:function(Z){return H.cIsIdxVld(this.e_Wgts,Z)?this.e_Wgts[Z]:null},cAcsByPutSrcId:function(Z){return this.cAcsByIdx(this.cFindByPutSrcId(Z))},cAdd:function(Z){if(this.e_Wgts.indexOf(Z)>=0){return this}this.e_Wgts.push(Z);return this},cRmvByPutSrcId:function(Z){return this.cRmvByIdx(this.cFindByPutSrcId(Z))},cRmvByIdx:function(Z){if(!H.cIsIdxVld(this.e_Wgts,Z)){return this}this.e_Wgts.splice(Z,1);return this},cClnPutTgt:function(){var Z=this;H.cFor(Z.e_Wgts,function(a,b,c){c.cClnPutTgt()});return this},cUbndAll:function(){var Z=this;H.cFor(Z.e_Wgts,function(a,b,c){c.vcUbnd()});return this},cRfshBefLot:function(){H.cFor(this.e_Wgts,function(Z,a,b){b.vcRfshBefLot()});return this},cRfshAftLot:function(){H.cFor(this.e_Wgts,function(Z,a,b){b.vcRfshAftLot()});return this},cRfsh:function(){if(P.stFrmwk.cIsDurLot()){return this}H.cFor(this.e_Wgts,function(Z,a,b){b.cRfsh()});return this}},{},false)})();(function(){Y=E.fClass(P,function tForm(){this.odBase(tForm).odCall();this.d_WgtSet=new P.tWgtSet()},W,{vcBind:function f(Z){var a=this;return this},vcUbnd:function f(){var Z=this;return this},vcFnshAnmt:function f(){var Z=this;H.cFor(Z.d_WgtSet.cAcsWgts(),function(a,b,c){c.vcFnshAnmt()});return this},vcRfshBefLot:function f(){var Z=this;H.cFor(Z.d_WgtSet.cAcsWgts(),function(a,b,c){c.vcRfshBefLot()});return this},vcRfshAftLot:function f(){var Z=this;H.cFor(Z.d_WgtSet.cAcsWgts(),function(a,b,c){c.vcRfshAftLot()});return this},vcIptRset:function f(){var Z=this;H.cFor(Z.d_WgtSet.cAcsWgts(),function(a,b,c){c.vcIptRset()});return this},cSrlz:function(Z){if(!Z){Z={}}var a=this;H.cFor(a.d_WgtSet.cAcsWgts(),function(b,c,d){d.vcSrlz(Z)});return Z},cAcsWgtSet:function(){return this.d_WgtSet}},{},false)})()}})();(function(){var A=("undefined"==typeof self),B=A?global:self;if(B.nWse&&B.nWse.nUi&&B.nWse.nUi.stFrmwk){return}B.nWse.stAsynIcld.cFromLib("nWse:nUi",["Wgt.js"],C);function C(D){console.log("Frmwk.fOnIcld："+D);var E=B.nWse,F=E.stAryUtil,G=E.stDomUtil,H=E.stCssUtil,I=E.tSara,J=E.tPntIptTrkr,K=J.tPntIpt,L=K.tKind,M=K.tTch,N=E.nUi,O,P,Q,R;(function(){R=function(){};N.stFrmwk=R;R.oc_nHost=N;R.oc_FullName=N.ocBldFullName("stFrmwk");R.ocBldFullName=function(y){return R.oc_FullName+"."+y};var S=null,T=null,U=false,V=null,W=null,X=[],Y={},Z=false,a=0.2,b=null,c=null,d=null,e=null,f=null,g=null;function h(){b=null}function i(){S=new J();S.cInit(true);S.cSetImdtHdlr(v);G.cAddEvtHdlr_WndRsz(function(){var y=Y["WndRszBefLot"];if(y){y.cFor()}R.cRunLot();y=Y["WndRszAftLot"];if(y){y.cFor()}},0.1)}i();function j(y){var z=G.cSrchSelfAndAcst(y,function(a_DomSA){return a_DomSA.Wse_Wgt&&a_DomSA.Wse_Wgt.c_Wgt});return(z&&z.Wse_Wgt)?z.Wse_Wgt.c_Wgt:null}function k(y){if((!y)||(X.indexOf(y)>=0)){return}X.push(y);y.vcGainFoc()}function l(y){var z=y?X.indexOf(y):-1;if(z<0){return}y.vcLoseFoc();X.splice(z,1)}function m(){F.cFor(X,function(y,z,一){一.vcLoseFoc()});X.length=0}function n(y){if(!E.fIsAry(y)){return k(y)}F.cFor(y,function(z,一,丁){k(丁)})}function o(y){if(!E.fIsAry(y)){return l(y)}F.cFor(y,function(z,一,丁){l(丁)})}function p(y){m();n(y)}function q(y){return y&&(X.indexOf(y)>=0)}R.eRmvFoc=function(y,z){F.cFor(y.c_Tchs,function(一,丁,丂){if(丂.c_FocWgt===z){丂.c_FocWgt=null}})};function r(){if(!c){c=new I()}if(!d){d=document.createElement("canvas");u();if(!e){e=new P()}e.cBindCvs(d);e.cSetDrawMthd(1)}if(!f){f=[]}if(!g){g={e_Ipt:null,e_PendTchs:[],e_Bbox:new I(),e_Path:new Q(),cAcsBbox:function(){return this.e_Bbox},cAcs2dCtxt:function(){return e},cAcs2dPath:function(){return this.e_Path},cPickBgn:function(y){e.cClr();return this},cPickEnd:function(y){var z=this,一=F.cFind(z.e_PendTchs,function(a_Tchs,a_TchIdx,a_Tch){var l_ImgData=e.cAcs().getImageData(a_Tch.c_X,a_Tch.c_Y,1,1);if(l_ImgData.data[3]>=128){a_Tch.c_PkdWgt=y;return true}return false});if(一>=0){z.e_PendTchs.splice(一,1)}return this},cIsOver:function(){return(0==this.e_PendTchs.length)}}}}function s(y){if(y.cHasTchBgnOrEnd()){if(b){clearTimeout(b);b=null}}else if(b){return}if(!d){r()}else{u()}c.cCrt$Wh(d.width,d.height);g.e_Ipt=y;F.cShlwAsn(g.e_PendTchs,y.c_Tchs);f.length=0;T.cGetAllPuts(f);F.cFor(V.cAcsWgts(),function(z,一,丁){f.push(丁.cAcsPutTgt())});T.cSortAllPutsByRndOrd(f);try{e.cAcs().save();e.cAcs().beginPath();F.cFor(y.c_Tchs,function(z,一,丁){e.cAcs().rect(丁.c_X,丁.c_Y,1,1)});e.cAcs().clip();t(y)}finally{e.cAcs().restore()}b=setTimeout(h,a*1000)}function t(y){var i,z=f.length,一,丁;for(i=z-1;i>=0;--i){一=f[i];I.scCrt$DomBcr(g.e_Bbox,一);if(F.cFind(y.c_Tchs,function(丂,七,丄){return I.scCtan$Xy(g.e_Bbox,丄.c_X,丄.c_Y)})<0){continue}丁=j(一);if(!丁){continue}丁.vcPick(g);if(0==g.e_PendTchs.length){break}}}function u(){if(!d){return}if(d.width!=window.innerWidth){d.width=window.innerWidth}if(d.height!=window.innerHeight){d.height=window.innerHeight}}function v(y){y.cForTchs(function(丆,万,丈){var 三=丈.cAcsEvtTgt();if(!三){丈.c_PkdWgt=null;return}var 上=j(三);丈.c_PkdWgt=上;if(上&&Z){s(y)}if(丈.c_PkdWgt){console.log("拾取到："+丈.c_PkdWgt.cAcsPutSrc().id)}});var z=32,一=0,丁=[],丂,i,七,丄,丅=X;do{丂=false;七=丅.length;for(i=0;i<七;++i){丄=丅[i];if(丁.indexOf(丄)>=0){continue}丂=true;丄.vcHdlIpt(y);丁.push(丄);break}if((!丂)&&y.cHasUhdlTch()){丂=w(y)}++一}while(丂&&(一<z));if(一>=z){console.log("nUi.stFrmwk.fIptHdlr：迭代法被强制终结")}}function w(y){var z=this,一=false;y.cForTchsByKind(L.i_TchBgn,true,function(丁,丂,七){if(七.c_PkdWgt&&(!q(七.c_PkdWgt))){k(七.c_PkdWgt);一=true}});return 一}function x(y){U=true;if(V){V.cRfshBefLot()}if(W){W.cRfshBefLot()}if(T){y?T.cRfl():T.cRun()}if(W){W.cRfshAftLot()}if(V){V.cRfshAftLot()}U=false}R.cIptRset=function(){F.cFor(X,function(y,z,一){一.vcIptRset()});return R};R.cAcsLot=function(){return T};R.cSetLot=function(y){T=y||null;return R};R.cIsDurLot=function(){return U};R.cRunLot=function(){x(false);return R};R.cRflLot=function(){x(true);return R};R.cAcsGlbWgtSet=function(){if(!V){V=new N.tWgtSet()}return V};R.cAcsStaWgtSet=function(){return W};R.cSetStaWgtSet=function(y){m();W=y||null;return R};R.cClrFocs=function(){m();return R};R.cAddFocs=function(y){if(y){n(y)}return R};R.cRmvFocs=function(y){if(y){o(y)}return R};R.cAcsTgtAreaOfPut=function(y){if(!T){return null}var z=T.constructor.scAcsTgtAreaOfPut||null;return z&&z(y)};R.cAcsCssMgnOfPut=function(y){if(!T){return null}var z=T.constructor.scAcsCssMgnOfPut||null;return z&&z(y)};R.cRegEvtHdlr=function(y,z){if(!Y[y]){Y[y]=new E.tEvtHdlrAry()}if(Y[y].cFind(z)<0){Y[y].cReg(z)}return R};R.cUrgEvtHdlr=function(y,z){if((!Y[y])||(Y[y].cFind(z)<0)){return R}Y[y].cUrg(z);return R};R.cIsPickEnab=function(){return Z};R.cEnabPick=function(){if((!E.nGpu)){throw new Error("nGpu库尚未载入，不能启用拾取！")}if(!O){O=E.nGpu;P=O&&O.t2dCtxt;Q=P&&P.tPath}Z=true;return R};R.cDsabPick=function(){Z=false;return R};R.cThePickFrqc=function(y){if(0==arguments.length){return a}a=y;return R}})()}})();(function(){var A=("undefined"==typeof self),B=A?global:self;if(B.nWse&&B.nWse.tPcdrLot){return}B.nWse.stAsynIcld.cFromLib("nWse:nUi",["(0)Plmvc.js"],C);function C(D){console.log("PcdrLot.fOnIcld："+D);var E=B.nWse,F=E.stNumUtil,G=E.stAryUtil,H=E.stStrUtil,I=E.stObjUtil,J=E.stFctnUtil,K=E.stDomUtil,L=E.stCssUtil,M=E.tSara,N=E.nUi,O=N.unKnl,P=[0,1,2];function Q(丏,丐){var 丑=G.cRvsFind(丏.e_Cfg.c_BrkPnts,function(a_Tgt,a_Idx,a_Elmt){return(丐>=a_Elmt)});return(丑<0)?0:丑}function R(丏,丐,丑,丒,专){var 且=document.createElement(丐.c_HtmlTag||专);且.id=丐.c_Id||丒;L.cSetCssc(且,H.cCcat(丑," ",丐.c_Cssc));且.Wse_PcdrLot={c_From:0};return 且}function S(丏,丐,丑,丒){var 专=document.getElementById(丐.c_Id||丒);if(专){L.cSetCssc(专,H.cCcat(丑," ",丐.c_Cssc));专.Wse_PcdrLot={c_From:1}}return 专}function T(丏,丐,丑,丒,专){return S(丏,丐,丑,丒)||R(丏,丐,丑,丒,专)}function U(丏,丐){var 丑=G.cFind(丏.e_RmvdPutAry,function(a_Ary,a_Idx,a_Put){return(a_Put.id==丐)}),丒=-1,专=(丑<0)?-1:1,且=(专<0)?document.getElementById(丐):丏.e_RmvdPutAry[丑];if(且){if(且.Wse_PcdrLot){丒=且.Wse_PcdrLot.c_From}if(专<0){专=(丏.e_DomRmvd===且.parentNode)?2:0}且.Wse_PcdrLot?(且.Wse_PcdrLot.c_From=专):(且.Wse_PcdrLot={c_From:专});if(0==专){if(!且.Wse_Put){且.Wse_Put={}}且.Wse_Put.c_OrigPrn=且.parentNode}else if(1==专){丏.e_RmvdPutAry.splice(丑,1)}else if(2==专){丏.e_DomRmvd.removeChild(且)}if(丏.e_RunCnt>1){且.Wse_PcdrLot.c_From=丒}}return 且}function V(丏,丐,丑){var 丒=0,专=0;if(丑.c_ColDvd&&(丑.c_ColDvd.length>0)){丐.Wse_PcdrLot.c_ColDvd=Array.prototype.slice.call(丑.c_ColDvd);丒=G.cSum(0,丐.Wse_PcdrLot.c_ColDvd,function(且,丕,世,丗){if(null===丗){++专;return 且}if(0===丗){throw new Error("不能有百分数为0的列")}return 且+丗});if(丒>100){throw new Error("百分数之和＞100")}if(专>0){if(100===丒){throw new Error("null列的百分数计算得0")}G.cFor(丐.Wse_PcdrLot.c_ColDvd,function(且,丕,世){if(null===世){且[丕]=(100-丒)/专}})}}else{丐.Wse_PcdrLot.c_ColDvd=[100]}}function W(丏){return(丏.e_BoaAry.length>0)?丏.e_BoaAry[丏.e_BoaAry.length-1]:null}function X(丏){var 丐=W(丏),丑=(丐&&丐.Wse_PcdrLot)?丐.Wse_PcdrLot.c_ColAry:null;return 丑?丑[丑.length-1]:null}function Y(丏,丐,丑){丑=丑||L.cGetCmptStl(丐);var 丒=丐.Wse_PcdrLot.c_CssDim;丒.c_MinHgt=parseFloat(丑.minHeight);if(isNaN(丒.c_MinHgt)){丒.c_MinHgt=0}L.cGetBdrThk(丒,丐,丑);L.cGetPad(丒,丐,丑);a(丒)}function Z(丏,丐,丑,丒){丒=丒||L.cGetCmptStl(丑);var 专=丑.Wse_PcdrLot.c_CssDim;L.cGetBdrThk(专,丑,丒);L.cGetPad(专,丑,丒);a(专)}function a(丏){丏.c_BpUp=丏.c_BdrThkUp+丏.c_PadUp;丏.c_BpDn=丏.c_PadDn+丏.c_BdrThkDn;丏.c_BpUpDn=丏.c_BpUp+丏.c_BpDn;丏.c_BpLt=丏.c_BdrThkLt+丏.c_PadLt;丏.c_BpRt=丏.c_PadRt+丏.c_BdrThkRt;丏.c_BpLtRt=丏.c_BpLt+丏.c_BpRt}function b(丏,丐){丐.Wse_PcdrLot.c_Y=0;var 丑=丏.e_BoaAry,丒=丑.indexOf(丐),专;if(丒>0){专=丑[丒-1];丐.Wse_PcdrLot.c_Y+=专.Wse_PcdrLot.c_Y+专.Wse_PcdrLot.c_H}}function c(丏,丐,丑){return 丑?丏.cGetBrkPntWid():丏.cGetPutTgtWid()}function d(丏,丐,丑){var 丒=c(丏,丐,丑);丒-=丐.Wse_PcdrLot.c_CssDim.c_BpLtRt;return 丒}function e(丏,丐){if(0==丏.e_BoaAry.length){return}var 丑=0,丒=丐.Wse_PcdrLot.c_Cfg.c_FxdAr;G.cFor(丐.Wse_PcdrLot.c_ColAry,function(专,且,丕){丑=Math.max(丑,l(丏,丐,丕))});if(丒){丑=Math.max(丑,c(丏,丐)/丒)}丑=Math.max(丑,丐.Wse_PcdrLot.c_CssDim.c_MinHgt);丐.Wse_PcdrLot.c_H=丑+丐.Wse_PcdrLot.c_CssDim.c_BpUpDn;L.cSetDimHgt(丐,丐.Wse_PcdrLot.c_H)}function f(丏,丐,丑){var 丒=0;G.cFind(丐.Wse_PcdrLot.c_ColAry,function(专,且,丕){if(丕===丑){return true}丒+=丕.Wse_PcdrLot.c_W;return false});丒+=丐.Wse_PcdrLot.c_CssDim.c_BpLt;return 丒}function g(丏,丐,丑){var 丒=f(丏,丐,丑);丒+=丑.Wse_PcdrLot.c_CssDim.c_BpLt;return 丒}function h(丏,丐,丑){var 丒=丐.Wse_PcdrLot.c_Y+丐.Wse_PcdrLot.c_CssDim.c_BpUp;return 丒}function i(丏,丐,丑){var 丒=h(丏,丐,丑);丒+=丑.Wse_PcdrLot.c_CssDim.c_BpUp;return 丒}function j(丏,丐,丑,丒,专){var 且=d(丏,丐,专),丕=且*(丒/100);return 丕}function k(丏,丐,丑,丒,专){var 且=j(丏,丐,丑,丒,专);且-=丑.Wse_PcdrLot.c_CssDim.c_BpLtRt;return 且}function l(丏,丐,丑){var 丒=m(丏,丐,丑);丒+=丑.Wse_PcdrLot.c_CssDim.c_BpUpDn;return 丒}function m(丏,丐,丑){return G.cSum(0,丑.Wse_PcdrLot.c_RowHgts,null)}function n(丏,丐,丑,丒){var 专=E.fIsUdfnOrNull(丒)?丐.Wse_PcdrLot.c_ColAry.indexOf(丑):丒,且=丐.Wse_PcdrLot.c_ColDvd[专],丕=k(丏,丐,丑,且,true),世=k(丏,丐,丑,且,false),丗=丑.Wse_PcdrLot.c_GridTot;丑.Wse_PcdrLot.c_BaseGridUnit=丕/丗;丑.Wse_PcdrLot.c_CrntGridUnit=世/丗}function o(丏){G.cFor(丏.e_BoaAry,function(丐,丑,丒){G.cFor(丒.Wse_PcdrLot.c_ColAry,function(专,且,丕){K.cSetAllChds(丕,丕.Wse_PcdrLot.c_PutAry)});K.cSetAllChds(丒,丒.Wse_PcdrLot.c_ColAry)});K.cSetAllChds(丏.e_DomFlow,丏.e_BoaAry)}function p(丏){if(!丏.e_WidPct){return}var 丐=丏.cAcsPutTgt(),丑=丐.parentNode,丒=丑.clientWidth;if(丒<丏.e_PrnWidWhenRunBgn){丏.e_RunAgn=true}else if(丒>丏.e_PrnWidWhenRunBgn){if(1==丏.e_RunCnt){丏.e_RunAgn=true}}}function q(丏){G.cFor(丏.e_RmvdPutAry,function(丐,丑,丒){r(丏,null,null,丒,false,true,null,null)});丏.e_RmvdPutAry.length=0}function r(丏,丐,丑,丒,专,且,丕,世){var 丗=丒.Wse_PcdrLot,丘=丗&&丗.c_Cfg,丙=N.tEfc||null;function 业(){var 丛=丘&&丘.c_Cssc;if(丛){L.cRmvCssc(丒,丛)}L.cRmvCssc(丒,"cnWse_tPcdrLot_Put");var 东=((丒.Wse_Put&&丒.Wse_Put.c_OrigPrn)||丏.e_PutSrc);s(丏,丐,丑,丒,专,东);var 丝;if(且&&丕){丝=世.indexOf(丒);if(丝>=0){世.splice(丝,1)}if(0==世.length){丕(丏)}}var 丞=丒.Wse_PcdrLot.c_Cfg.c_fAftRtn;if(丞){丞(丒)}}if((!丙)){业();return}s(丏,丐,丑,丒,专,丏.e_DomRmvd);N.stEfcMgr.cIsuCssAnmt(且,丏.e_PutTgt,丒,3,丒.Wse_PcdrLot.c_Cfg.c_Efc,丏.e_DftEfc,null,业)}function s(丏,丐,丑,丒,专,且){var 丕=(专&&丑)?丑.Wse_PcdrLot.c_PutAry.indexOf(丒):-1;if(丕>=0){丑.Wse_PcdrLot.c_PutAry.splice(丕,1)}且.appendChild(丒)}function t(丏,丐,丑,丒,专,且){G.cFor(丏.e_BoaAry,function(丕,世,丗){if(丐){丐(丏,丗,世)}G.cFor(丗.Wse_PcdrLot.c_ColAry,function(丘,丙,业){if(丑){丑(丏,丗,业,丙)}G.cFor(业.Wse_PcdrLot.c_PutAry,function(丛,东,丝){丒(丏,丗,业,丝,东)});if(专){专(丏,丗,业,丙)}});if(且){且(丏,丗,世)}})}function u(丏,丐,丑){var 丒=(丐&&丑)?[]:null;t(丏,null,function(专,且,丕){丕.Wse_PcdrLot.c_RowHgts.length=0},function(专,且,丕,世){if(丐&&丑){丒.push(世)}r(专,且,丕,世,false,丐,丑,丒)},function(专,且,丕){丕.Wse_PcdrLot.c_PutAry.length=0});if((!丐)&&丑){丑(丏)}}function v(丏){G.cFor(丏.e_TmrIdAry,function(丐,丑,丒){clearTimeout(丒)});丏.e_TmrIdAry=null;if(丏.e_ShowGrid){丏.cShowHideGrid(false)}if(丏.e_DomFlow){u(丏,false)}if(丏.e_DomCstm){w(丏,丏.e_DomCstm)}if(丏.e_DomRmvd){w(丏,丏.e_DomRmvd)}if(丏.e_DomFlow){丏.e_PutTgt.removeChild(丏.e_DomFlow)}if(丏.e_DomCstm){丏.e_PutTgt.removeChild(丏.e_DomCstm)}if(丏.e_DomRmvd){丏.e_PutTgt.removeChild(丏.e_DomRmvd)}丏.e_DomFlow=null;丏.e_DomCstm=null;丏.e_DomRmvd=null;丏.e_BoaAry=[];丏.e_PutIdRgtr=null;丏.e_RmvdPutAry=[];丏.e_AllPuts=[];丏.e_ImgSrcRgtr=[];丏.e_TmrIdAry=[]}function w(丏,丐){var 丑=K.cGetAllChds(丐);G.cFor(丑,function(丒,专,且){if(1==且.nodeType){r(丏,null,null,且,false,false,null,null)}})}function x(丏){丏.e_DomFlow=y(丏,"FlowZone","cnWse_tPcdrLot_FlowZone");丏.e_DomRmvd=y(丏,"RmvdZone","cnWse_tPcdrLot_RmvdZone")}function y(丏,丐,丑){var 丒=丏.cAcsPutTgt();丐=丒.id+"_"+丐;var 专=document.createElement("div");专.id=丐;L.cAddCssc(专,丑);丒.appendChild(专);return 专}function z(丏){if(!丏.e_WidPct){throw new Error("a_This.e_WidPct是0或null")}var 丐=丏.cAcsPutTgt(),丑=丐.parentNode,丒=Math.floor(丑.clientWidth*丏.e_WidPct/100+0.5);丒=F.cClmOnNum(丒,丏.e_MinWid,丏.e_MaxWid);丐.style.width=丒.toString()+"px"}function 一(丏){var 丐=丏.cAcsPutTgt(),丑=丐.parentNode;丏.e_PrnWidWhenRunBgn=丑.clientWidth;if(丏.e_UseBrkPntWid){L.cSetDimWid(丐,丏.cGetBrkPntWid(Q(丏,丑.clientWidth)))}else if(丏.e_WidPct){z(丏)}丏.e_PutTgt.style.minHeight=(丏.e_MinHgt||window.innerHeight).toString()+"px"}function 丁(丏,丐){var 丑=丏.cAcsPutTgt();丏.e_RmvdPutAry.length=0;G.cFor(丏.e_BoaAry,function(丒,专,且){G.cFor(且.Wse_PcdrLot.c_ColAry,function(丕,世,丗){if(丐){G.cFor(丗.Wse_PcdrLot.c_PutAry,function(丘,丙,业){业.Wse_PcdrLot.c_From=1})}else{Array.prototype.push.apply(丏.e_RmvdPutAry,丗.Wse_PcdrLot.c_PutAry)}})});if(!丐){丏.e_BoaAry.length=0;丏.e_PutIdRgtr={}}}function 丂(丏,丐){var 丑=丏.e_ShowGrid;if(丑){不(丏,false)}if(null==丏.e_DomFlow){x(丏)}var 丒=丏.e_BrkPntIdx;丏.e_RunCnt=0;七(丏,丐);if(丑){不(丏,true)}if((丏.e_BrkPntIdx!=丒)){下(丏)}}function 七(丏,丐){++丏.e_RunCnt;一(丏);丁(丏,丐);var 丑,丒,专;if(!丐){丑=丏.cGetPutTgtWid();丒=Q(丏,丑);专=丏.e_Cfg.c_fBpc;if(-1==丏.e_BrkPntIdx){丏.e_Rsn="初始"}else if(丏.e_BrkPntIdx==丒){丏.e_Rsn="更新"}else{丏.e_Rsn=丏.e_BrkPntIdx}丏.e_BrkPntIdx=丒;丏.e_AllPuts.length=0}try{丏.e_RunAgn=false;丏.e_DurCabk=true;if(!丐){if(专){专(丏)}q(丏);o(丏)}丄(丏,丐);p(丏)}finally{丏.e_DurCabk=false}if(丏.e_RunAgn){七(丏,false)}}function 丄(丏,丐){var 丑=丏;G.cFor(丑.e_BoaAry,function(丒,专,且){Y(丏,且);b(丑,且);且.Wse_PcdrLot.c_AlctdW=0;var 丕=c(丏,且,丏.e_UseBrkPntWid),世=d(丏,且,丏.e_UseBrkPntWid),丗=且.Wse_PcdrLot.c_ColDvd;L.cSetDimWid(且,丕);G.cFor(且.Wse_PcdrLot.c_ColAry,function(丙,业,丛){Z(丏,且,丛);var 东=(业<丙.length-1)?Math.round(j(丏,且,丛,丗[业],丏.e_UseBrkPntWid)):Math.floor(世-且.Wse_PcdrLot.c_AlctdW);且.Wse_PcdrLot.c_AlctdW+=东;丛.style.width=东.toString()+"px";丛.Wse_PcdrLot.c_W=东;丛.Wse_PcdrLot.c_CtntW=东-丛.Wse_PcdrLot.c_CssDim.c_BpLtRt;三(丑,且,丛,业);G.cFor(丛.Wse_PcdrLot.c_PutAry,function(丝,丞,丟){丅(丑,且,丛,丟,丐)})});e(丑,且);var 丘=且.Wse_PcdrLot.c_H-且.Wse_PcdrLot.c_CssDim.c_BpUpDn;G.cFor(且.Wse_PcdrLot.c_ColAry,function(丙,业,丛){var 东,丝,丞,丟=0,丠=丛.Wse_PcdrLot.c_Cfg.c_VticAln;if(丠){东=m(丑,且,丛);if(东<丘){丝=丘*丠/100;丞=东*丠/100;丟=丝-丞}}G.cFor(丛.Wse_PcdrLot.c_PutAry,function(両,丢,丣){丆(丑,且,丛,丣,丢,丟);M.scAlnPxl(丣.Wse_PcdrLot.c_TgtArea);丈(丑,丐,且,丛,丣,丢,true)})})})}function 丅(丏,丐,丑,丒,专){var 且=丑.Wse_PcdrLot.c_RowHgts;if(0==且.length){且.push(0)}var 丕=丒.Wse_PcdrLot.c_Cfg,世=丕.c_FxdArea,丗=丒.Wse_PcdrLot.c_TgtArea,丘=丑.Wse_PcdrLot.c_GridTot,丙=丕.c_GridIdx,业=丙,丛=(丕.c_GridOfst||0),东=丕.c_GridCnt||丑.Wse_PcdrLot.c_GridTot,丝=丕.c_HrztAln,丞;if(世){丒.Wse_PcdrLot.c_ActGridIdx=-1;丒.Wse_PcdrLot.c_ActGridCnt=0;丒.Wse_PcdrLot.c_RowIdx=-1}else{if(丕.c_NewRow&&(且[且.length-1]>0)){上(丏,丐,丑)}if(东>丘){东=丘}丞=E.fIsUdfnOrNull(业);if(丞&&(!E.fIsUdfnOrNull(丝))){if(丝<0){丙=0}else if(0==丝){丙=Math.floor((丘-东)/2)}else{丙=(丘-东)}业=丙;丞=false}if(丞){业=丏.e_FlowGridNext}else if(业<丏.e_FlowGridNext){业=丏.e_FlowGridNext}if(业+东>丘){上(丏,丐,丑);业=丞?0:丙;if(业+东>丘){业=丘-东}}业+=丛;丒.Wse_PcdrLot.c_ActGridIdx=业;丒.Wse_PcdrLot.c_ActGridCnt=东;丒.Wse_PcdrLot.c_RowIdx=且.length-1;丏.e_FlowGridNext=业+东}var 丟=丒.Wse_PcdrLot.c_Cfg.c_FxdAr,丠=(!!世)||(!!丟),両=丒.Wse_PcdrLot.c_CssMgn,丢=丑.Wse_PcdrLot.c_BaseGridUnit,丣=丑.Wse_PcdrLot.c_CrntGridUnit,两=(丏.e_UseBrkPntWid?丢:丣),严,並=L.cGetCmptStl(丒);L.cGetMgn(両,丒,並,true);if(世){M.scAsn(丗,世)}else{丗.c_X=业*两+g(丏,丐,丑);丗.c_Y=丏.e_FlowRelY+i(丏,丐,丑);丗.c_W=东*两;P[0]=丒;P[1]=丗.c_W;P[2]=(丗.c_W-両.c_MgnLt-両.c_MgnRt);N.fTrgrPutEvt(丒,"WidDtmnd",P);if(丟){丗.c_H=(丗.c_W-両.c_MgnLt-両.c_MgnRt)/丟}else if(丒.style.height.indexOf("px")>=0){丗.c_H=parseFloat(丒.style.height)}else{严=丒.offsetWidth;L.cSetDimWid(丒,丗.c_W-両.c_MgnLt-両.c_MgnRt);丗.c_H=丒.offsetHeight;L.cSetDimWid(丒,严)}丗.c_H+=両.c_MgnUp+両.c_MgnDn}if(丗&&(丗.c_H>且[且.length-1])){且[且.length-1]=丗.c_H}}function 丆(丏,丐,丑,丒,专,且){if(丒.Wse_PcdrLot.c_RowIdx<0){return}var 丕=丒.Wse_PcdrLot.c_TgtArea,世=丒.Wse_PcdrLot.c_Cfg.c_VticCmpc;if(世){丕.c_Y=万(丏,丐,丑,丒,专);return}丕.c_Y+=且;var 丗=丑.Wse_PcdrLot.c_RowHgts,丘=丗[丒.Wse_PcdrLot.c_RowIdx],丙,业,丛,东=丒.Wse_PcdrLot.c_Cfg.c_VticAln;if(东){if(丕.c_H<丘){丙=丘*东/100;业=丕.c_H*东/100;丛=丙-业;丕.c_Y+=丛}}var 丝=丒.Wse_PcdrLot.c_Cfg.c_VticOfst;if(丝){丛=丘*丝/100;丕.c_Y+=丛}}function 万(丏,丐,丑,丒,专){var 且=丒.Wse_PcdrLot.c_RowIdx;if(0==且){return 丒.Wse_PcdrLot.c_TgtArea.c_Y}var 丕=丑.Wse_PcdrLot.c_PutAry,世=且-1,丗,丘=专-1;for(;丘>=0;--丘){if(丕[丘].Wse_PcdrLot.c_RowIdx==世){break}}for(丗=丘-1;丗>=0;--丗){if(丕[丗].Wse_PcdrLot.c_RowIdx!=世){break}}++丗;var i=丗,丙,业=0;for(;i<=丘;++i){丙=丕[i].Wse_PcdrLot;if(F.cHasOvlp(丙.c_ActGridIdx,丙.c_ActGridIdx+丙.c_ActGridCnt-1,丒.Wse_PcdrLot.c_ActGridIdx,丒.Wse_PcdrLot.c_ActGridIdx+丒.Wse_PcdrLot.c_ActGridCnt-1)){业=Math.max(业,丙.c_TgtArea.c_Y+丙.c_TgtArea.c_H)}}return 业}function 丈(丏,丐,丑,丒,专,且,丕){var 世=专.Wse_PcdrLot.c_Cfg.c_FxdArea,丗=专.Wse_PcdrLot.c_Cfg.c_FxdAr,丘=(!!世)||(!!丗),丙=专.Wse_PcdrLot.c_CssMgn,业=专.Wse_PcdrLot.c_TgtArea,丛=专.Wse_PcdrLot.c_Cfg,东=N.tEfc||null;if(丛.c_Efc){丛.c_Efc.cStp(丏,专)}var 丝=(!丐)&&(0==专.Wse_PcdrLot.c_From);if(丝){L.cSetPos(专,业.c_X,业.c_Y);L.cSetDimWid(专,业.c_W-丙.c_MgnLt-丙.c_MgnRt)}if(丘){L.cSetDimHgt(专,业.c_H-丙.c_MgnUp-丙.c_MgnDn)}if((!东)){return}N.stEfcMgr.cIsuCssAnmt(丕,丏.e_PutTgt,专,(丝?1:2),专.Wse_PcdrLot.c_Cfg.c_Efc,丏.e_DftEfc,{"left":业.c_X.toString()+"px","top":业.c_Y.toString()+"px","width":(业.c_W-丙.c_MgnLt-丙.c_MgnRt).toString()+"px","height":丘?((业.c_H-(丙.c_MgnUp+丙.c_MgnDn)).toString()+"px"):undefined},null)}function 三(丏,丐,丑,丒){n(丏,丐,丑,丒);丏.e_FlowGridNext=0;丏.e_FlowRelY=0;if(丑.Wse_PcdrLot.c_RowHgts.length>0){丑.Wse_PcdrLot.c_RowHgts.length=0}}function 上(丏,丐,丑){var 丒=丑.Wse_PcdrLot.c_RowHgts;丏.e_FlowGridNext=0;丏.e_FlowRelY+=丒[丒.length-1];丒.push(0)}function 下(丏){var 丐=K.cQryAll("#"+丏.cAcsPutTgt().id+" *[data-Wse_ImgSrc]");G.cFor(丐,function(丒,专,且){var 丕=丏.cCtanPut(且)?且.getAttribute("data-Wse_ImgSrc"):null,世=丕?丕.lastIndexOf("."):-1;if(世<0){return}if(丏.e_BrkPntIdx>0){丕=H.cIst(丕,世,"_L"+丏.e_BrkPntIdx.toString())}丕=丕.toLowerCase();if(且.Wse_PcdrLot&&(且.Wse_PcdrLot.c_ImgSrc==丕)){return}var 丗=null,丘=丌(丏,丕,true);if(丘<0){丗=new Image();丗.onerror=function(){var 丙;if(丏.e_ImgSrcRgtr.length>0){丙=丌(丏,丗,false);丏.e_ImgSrcRgtr.splice(丙,1)}丗.onerror=null;丗.onload=null};丗.onload=function(){function 丙(){var 业=丌(丏,丗,false);丑(业);丏.e_ImgSrcRgtr.splice(业,1)}if(丏.e_ImgSrcRgtr.length>0){if(E.fIsAsynDly()){丏.e_TmrIdAry.push(setTimeout(丙,E.g_AsynDly*1000))}else{丙()}}丗.onerror=null;丗.onload=null};丏.e_ImgSrcRgtr.push({c_Img:丗,c_Src:丕,c_DomElmts:[且]});丗.src=丕}else{丏.e_ImgSrcRgtr[丘].c_DomElmts.push(且)}});function 丑(丒){var 专=丑.Wse_ImgSrcRgtr,且=丑.Wse_BrkPntIdx;if((专!==丏.e_ImgSrcRgtr)||(且!=丏.cGetBrkPntIdx())){return}var 丕=丏.e_ImgSrcRgtr[丒];if(!丕){return}var 世=false;G.cFor(丕.c_DomElmts,function(丗,丘,丙){var 业,丛;if(!丙.Wse_PcdrLot){丙.Wse_PcdrLot={}}if("IMG"==丙.tagName){业=丙.Wse_PcdrLot.c_ImgAr;丙.src=丕.c_Src}else{业=丙.Wse_PcdrLot.c_ImgAr;丙.style.backgroundImage='url("'+丕.c_Src+'")'}丛=(丕.c_Img.height>0)?(丕.c_Img.width/丕.c_Img.height):null;丙.Wse_PcdrLot.c_ImgAr=丛;if((!世)&&业&&丛){if(!F.cEq(业,丛,0.05)){世=true}}if(!丙.Wse_PcdrLot){丙.Wse_PcdrLot={}}丙.Wse_PcdrLot.c_ImgSrc=丕.c_Src});if(世){丏.cRfl()}}丑.Wse_ImgSrcRgtr=丏.e_ImgSrcRgtr;丑.Wse_BrkPntIdx=丏.cGetBrkPntIdx()}function 丌(丏,丐,丑){return G.cFind(丏.e_ImgSrcRgtr,function(丒,专,且){return 丑?(且.c_Src==丐):(且.c_Img===丐)})}function 不(丏,丐,丑,丒,专){丑=丑||"rgba(128, 128, 128, 0.4)";丒=丒||"rgba(192, 192, 192, 0.4)";专=E.fIsUdfnOrNull(专)?999998:专;var 且=K.cAcsBody(),丕;if(丐){if(document.getElementById("uok_GridBarSet")){世()}丕=document.createElement("div");丕.id="uok_GridBarSet";G.cFor(丏.e_BoaAry,function(丘,丙,业){G.cFor(业.Wse_PcdrLot.c_ColAry,function(丛,东,丝){丗(丏,业,丝)})})}else{世()}function 世(){var 丘=document.getElementById("uok_GridBarSet");if(!丘){return}且.removeChild(丘)}function 丗(丘,丙,业){var 丛=业.Wse_PcdrLot.c_CssDim,东=业.Wse_PcdrLot.c_CtntW,丝=东,丞=业.getBoundingClientRect(),丟=业.Wse_PcdrLot.c_GridTot,丠=丝/丟,両=0,丢=(丠).toString()+"px",丣=null,两=null,严=0;for(;严<丟;++严){丣=document.createElement("div");丣.className="cnWse_tPcdrLot_GridBar";丣.style.zIndex=专.toString();丣.style.left=(丞.left+丛.c_BpLt+严*丠).toString()+"px";丣.style.top=(丞.top+丛.c_BpUp).toString()+"px";丣.style.width=(严<丟-1)?丢:(Math.floor(丝-両+0.5).toString()+"px");丣.style.height=(丞.height-丛.c_BpUpDn).toString()+"px";丣.style.backgroundColor=((1+严)%2)?丑:丒;if(0==严){E.tClo.scRand(不.Wse_RandClo);不.Wse_RandClo.a=1;两=E.tClo.scToCssCloStr(不.Wse_RandClo);丣.style.borderLeft="1px solid "+两}if(严==丟-1){丣.style.borderRight="1px solid "+两}丕.appendChild(丣);両+=丠}且.appendChild(丕)}}不.Wse_RandClo=new E.tClo();var 与;(function(){与=E.fClass(N,function tPcdrLot(){this.cRset()},null,{cRset:function(){v(this);this.e_Cfg=null;this.e_PutTgt=null;this.e_PutSrc=null;this.e_WidPct=null;this.e_MinWid=128;this.e_MaxWid=Number.MAX_VALUE;this.e_MinHgt=null;this.e_BrkPntIdx=-1;this.e_UseBrkPntWid=false;this.e_Rsn=null;this.e_DurCabk=false;this.e_PrnWidWhenRunBgn=0;this.e_RunCnt=0;this.e_RunAgn=false;this.e_DftEfc=null;this.e_ShowGrid=false;this.e_fOnWndScrl=null;return this},cPlan:function(丏){if(this.e_Cfg){this.cRset()}if(!丏){return this}this.e_Cfg=丏;this.e_PutSrc=document.getElementById(丏.c_PutSrc);if(!this.e_PutSrc){throw new Error("c_PutSrc无效！")}this.e_PutTgt=document.getElementById(丏.c_PutTgt);if(!this.e_PutTgt){throw new Error("c_PutTgt无效！")}this.e_WidPct=丏.c_WidPct||null;this.e_MinWid=丏.c_MinWid||128;this.e_MaxWid=丏.c_MaxWid||Number.MAX_VALUE;this.e_MinHgt=丏.c_MinHgt||null;L.cAddCssc(this.e_PutTgt,"cnWse_PutTgt");L.cAddCssc(this.e_PutSrc,"cnWse_PutSrc");return this},cRun:function(){if(!this.e_PutTgt){throw new Error("cRun()之前必须调用cPlan()！")}丂(this,false);return this},cRfl:function(){if(0==this.e_BoaAry.length){return this.cRun()}丂(this,true);return this},cAcsPutTgt:function(){return this.e_PutTgt||null},cGetPutTgtWid:function(){return this.e_PutTgt?this.e_PutTgt.clientWidth:0},cGetPutTgtHgt:function(){return this.e_PutTgt?this.e_PutTgt.clientHeight:0},cGetBrkPntIdx:function(){return this.e_BrkPntIdx},cGetBrkPntWid:function(丏){丏=E.fIsUdfnOrNull(丏)?this.e_BrkPntIdx:丏;return F.cClmOnNum(this.e_Cfg.c_BrkPnts[丏],this.e_MinWid,this.e_MaxWid)},cTheUseBrkPntWid:function(丏){if(0==arguments.length){return this.e_UseBrkPntWid}this.e_UseBrkPntWid=!!丏;return this},cGetRsn:function(){return this.e_Rsn},cBoa:function(丏){if(!this.e_DurCabk){throw new Error("cBoa()只能在断点回调函数里调用！")}if(!丏.c_Id){throw new Error("板的c_Id无效！")}var 丐=T(this,丏,"cnWse_tPcdrLot_Boa",null,"section");丐.Wse_PcdrLot.c_Cfg=丏;丐.Wse_PcdrLot.c_ColAry=[];丐.Wse_PcdrLot.c_CssDim={};丐.Wse_PcdrLot.c_Y=0;丐.Wse_PcdrLot.c_H=0;丐.Wse_PcdrLot.c_AlctdW=0;V(this,丐,丏);this.e_BoaAry.push(丐);return this},cCol:function(丏){var 丐=W(this);E.fAst(丐,"cCol()只能在cBoa()之后调用！");if(丐.Wse_PcdrLot.c_ColAry.length==丐.Wse_PcdrLot.c_ColDvd.length){return this}var 丑=丐.Wse_PcdrLot.c_ColAry.length,丒=丏.c_Id||(丐.id+"_Col"+丑.toString()),专=(E.fIsUdfnOrNull(丏.c_GridTot)||(丏.c_GridTot<1))?1:丏.c_GridTot,且=丐.Wse_PcdrLot.c_ColDvd[丑],丕=T(this,丏,"cnWse_tPcdrLot_Col",丒,"div");丕.Wse_PcdrLot.c_Cfg=丏;丕.Wse_PcdrLot.c_GridTot=专;丕.Wse_PcdrLot.c_CssDim={};丕.Wse_PcdrLot.c_RowHgts=[];丕.Wse_PcdrLot.c_PutAry=[];丐.Wse_PcdrLot.c_ColAry.push(丕);return this},cPut:function(丏){var 丐=W(this),丑=X(this);E.fAst(丐&&丑,"cPut()只能在cCol()之后调用！");if(!丏.c_Id){throw new Error("c_Id必需有效！")}if(this.e_PutIdRgtr[丏.c_Id]){return this}var 丒=U(this,丏.c_Id);if(!丒){throw new Error("未能获取“id="+丏.c_Id+"”的元素！")}this.e_PutIdRgtr[丏.c_Id]=true;var 专=丒.Wse_PcdrLot.c_Cfg&&丒.Wse_PcdrLot.c_Cfg.c_Cssc;if(专){L.cRmvCssc(丒,专)}丒.Wse_PcdrLot.c_Cfg=丏;if(!丒.Wse_PcdrLot.c_TgtArea){丒.Wse_PcdrLot.c_CssMgn={};丒.Wse_PcdrLot.c_TgtArea=new M()}丒.style.display="block";丒.style.position="absolute";L.cAddCssc(丒,"cnWse_tPcdrLot_Put");if(丏.c_Cssc){L.cAddCssc(丒,丏.c_Cssc)}丑.Wse_PcdrLot.c_PutAry.push(丒);this.e_AllPuts.push(丒);return this},cOver:function(){return this},cRmvAllPuts:function(丏,丐){if(this.e_PutTgt){u(this,丏,丐)}return this},cClnPutTgt:function(){if(this.e_PutTgt){v(this)}return this},cAcsDftEfc:function(){if((!this.e_DftEfc)&&N.tEfc){this.e_DftEfc=new N.tEfc(null)}return this.e_DftEfc},cCtanPut:function(丏){丏=E.fIsStr(丏)?document.getElementById(丏):丏;return 丏?(this.e_AllPuts.indexOf(丏)>=0):false},cAcsAllPuts:function(){return this.e_AllPuts},cGetAllPuts:function(丏){if(!丏){丏=[]}t(this,null,null,function(丐,丑,丒,专){if(丏.indexOf(专)<0){丏.push(专)}});return 丏},cSortAllPutsByRndOrd:function(丏){var 丐=this;丏.sort(function(丑,丒){var 专=L.cGetZidx(丑),且=L.cGetZidx(丒);if(专!=且){return(专-且)}var 丕=丐.e_AllPuts.indexOf(丑),世=丐.e_AllPuts.indexOf(丒);return(丕-世)});return 丏},cShowHideGridUi:function(丏){function 丐(丒){var 专=document.getElementById("ok_ShowGrid");if(!专){return this}K.cAcsBody().removeChild(专);return this}function 丑(丒){var 专=document.getElementById("ok_ShowGrid");if(专){return this}专=document.createElement("div");专.id="ok_ShowGrid";var 且=document.createElement("input");且.id="ok_ShowGridChkBox";且.type="checkbox";且.title="控制栅格的显示";且.onchange=function(丕){丒.cShowHideGrid(丕.target.checked)};专.appendChild(且);专.appendChild(document.createTextNode("显示栅格"));K.cAcsBody().appendChild(专)}丏?丑(this):丐(this);return this},cShowHideGrid:function(丏){if(this.e_ShowGrid==丏){if(丏){不(this,丏)}return this}if(丏&&(!this.e_fOnWndScrl)){this.e_fOnWndScrl=J.cBindThis(this,function(){if(this.e_ShowGrid){不(this,true)}})}if(this.e_fOnWndScrl){丏?K.cAddEvtHdlr_WndScrl(this.e_fOnWndScrl,0.1):K.cRmvEvtHdlr_WndScrl(this.e_fOnWndScrl)}this.e_ShowGrid=丏;不(this,丏);return this}},{scAcsTgtAreaOfPut:function(丏){return 丏.Wse_PcdrLot.c_TgtArea},scAcsCssMgnOfPut:function(丏){return 丏.Wse_PcdrLot.c_CssMgn},scGetPutRowIdx:function(丏){return 丏.Wse_PcdrLot.c_RowIdx}},false)})()}})();